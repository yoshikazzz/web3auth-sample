{"version":3,"file":"static/js/98.12822c88.chunk.js","mappings":"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GAKF,UAGEC,GAAmB,CAC9BC,OAAQ,SACRC,SAAU,WACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACTC,mBAAoB,kCAGTC,IAA6B,eACvCP,GAAiBC,OAAS,gBADa,SAEvCD,GAAiBE,SAAW,kBAFW,SAGvCF,GAAiBG,OAAS,gBAHa,SAIvCH,GAAiBI,OAAS,gBAJa,SAKvCJ,GAAiBK,QAAU,iBALY,SAMvCL,GAAiBM,mBAAqB,iCANC,GAS7BE,GACF,UADEA,GAEL,OAFKA,GAGE,cAHFA,GAIF,UAJEA,GAKD,WALCA,GAMF,UAGEC,GACF,UADEA,GAEJ,QAFIA,GAGE,cAHFA,GAIQ,oBAIRC,GACC,aAuCDC,GACE,cADFA,GAED,WAFCA,GAGG,eAHHA,GAIA,YC8MPC,IAAkC,eAGrCJ,GAA2B,CAC1B,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,SA9CoC,SAoDrCA,GAAwB,CACvB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,SAhFoC,SAmFrCA,GAA+B,CAAC,MAAO,MAAO,SAnFT,SAqFrCA,GAA2B,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,SArFtD,SAwFrCA,GAA4B,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,SAxFvD,SA8FrCA,GAA2B,CAC1B,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QA1IoC,GA8IlCK,GAA6B,IAAIC,IA/aE,CACvC,MACA,OACA,OACA,OACA,QACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,QACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,SACA,QACA,MACA,MACA,SACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,WACA,OACA,MACA,MACA,UACA,SACA,MACA,SACA,OACA,OACA,QACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,MACA,QACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA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","sources":["../node_modules/@metamask/obs-store/src/ComposedStore.ts","../node_modules/@metamask/obs-store/src/MergedStore.ts","../node_modules/@metamask/obs-store/src/ObservableStore.ts","../node_modules/@metamask/obs-store/src/asStream.ts","../node_modules/@metamask/obs-store/src/index.ts","../node_modules/@metamask/obs-store/src/transform.ts","../index.ts","../node_modules/@toruslabs/torus.js/node_modules/bn.js/lib/bn.js","../node_modules/@web3auth/base-evm-adapter/src/baseEvmAdapter.ts","../node_modules/@toruslabs/fetch-node-details/src/interfaces.ts","../node_modules/@toruslabs/fetch-node-details/src/nodeDetailManager.ts","../node_modules/@toruslabs/torus.js/src/loglevel.ts","../node_modules/@toruslabs/torus.js/src/some.ts","../node_modules/@toruslabs/torus.js/src/utils.ts","../node_modules/@toruslabs/torus.js/src/torus.ts","../node_modules/@toruslabs/torus-embed/src/interfaces.ts","../node_modules/@toruslabs/torus-embed/src/supportedCurrencies.ts","../node_modules/@toruslabs/torus-embed/src/config.ts","../node_modules/@toruslabs/torus-embed/src/embedUtils.ts","../node_modules/@toruslabs/torus-embed/src/loglevel.ts","../node_modules/@toruslabs/torus-embed/src/messages.ts","../node_modules/@toruslabs/torus-embed/src/utils.ts","../node_modules/@toruslabs/torus-embed/src/inpage-provider.ts","../node_modules/@toruslabs/torus-embed/src/integrity.ts","../node_modules/@toruslabs/torus-embed/src/PopupHandler.ts","../node_modules/@toruslabs/torus-embed/src/siteMetadata.ts","../node_modules/@toruslabs/torus-embed/src/embed.ts","../node_modules/@web3auth/torus-evm-adapter/src/torusWalletAdapter.ts","../node_modules/core-util-is/lib/util.js","../node_modules/fast-deep-equal/index.js","../node_modules/is-stream/index.js","../node_modules/isarray/index.js","../node_modules/json-stable-stringify/index.js","../node_modules/jsonify/index.js","../node_modules/jsonify/lib/parse.js","../node_modules/jsonify/lib/stringify.js","../node_modules/process-nextick-args/index.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/through2/node_modules/readable-stream/readable-browser.js","../node_modules/through2/through2.js","../node_modules/@babel/runtime/helpers/get.js","../node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import { ObservableStore } from './ObservableStore';\n\nexport class ComposedStore<\n  T extends Record<string, Record<string, unknown>>,\n> extends ObservableStore<T> {\n  private _children: Record<keyof T, ObservableStore<T[keyof T]>>;\n\n  constructor(children: Record<keyof T, ObservableStore<T[keyof T]>>) {\n    // Typecast: Preserve existing behavior\n    super({} as unknown as T);\n\n    // subscribe to children\n    this._children = children || {};\n    Object.keys(this._children).forEach((childKey) => {\n      const child = this._children[childKey];\n      this._addChild(childKey, child);\n    });\n  }\n\n  _addChild(childKey: keyof T, child: ObservableStore<T[keyof T]>) {\n    const updateFromChild = (childValue: T[keyof T]) => {\n      const state = this.getState();\n      state[childKey] = childValue;\n      this.putState(state);\n    };\n\n    child.subscribe(updateFromChild);\n    updateFromChild(child.getState());\n  }\n}\n","import { ObservableStore } from './ObservableStore';\n\nexport class MergedStore<\n  T extends Record<string, unknown>,\n> extends ObservableStore<T> {\n  private _children: ObservableStore<Partial<T>>[];\n\n  constructor(children = []) {\n    // Typecast: Preserve existing behavior\n    super({} as unknown as T);\n\n    this._children = children;\n    // subscribe to children\n    children.forEach((child) => this._addChild(child));\n    this._updateWholeState();\n  }\n\n  _addChild(child: ObservableStore<Partial<T>>): void {\n    child.subscribe(() => this._updateWholeState());\n  }\n\n  _updateWholeState(): void {\n    const childStates = this._children.map((child) => child.getState());\n    // apply shallow merge over states\n    const state = Object.assign({}, ...childStates);\n    this.putState(state);\n  }\n}\n","import SafeEventEmitter from '@metamask/safe-event-emitter';\n\nexport class ObservableStore<T> extends SafeEventEmitter {\n  private _state: T;\n\n  constructor(initState: T) {\n    super();\n    if (initState) {\n      this._state = initState;\n    } else {\n      // Typecast/default state: Preserve existing behavior\n      this._state = {} as unknown as T;\n    }\n  }\n\n  // wrapper around internal getState\n  getState(): T {\n    return this._getState();\n  }\n\n  // wrapper around internal putState\n  putState(newState: T): void {\n    this._putState(newState);\n    this.emit('update', newState);\n  }\n\n  updateState(partialState: Partial<T>): void {\n    // if non-null object, merge\n    if (partialState && typeof partialState === 'object') {\n      const state = this.getState();\n      this.putState({ ...state, ...partialState });\n      // if not object, use new value\n    } else {\n      this.putState(partialState);\n    }\n  }\n\n  // subscribe to changes\n  subscribe(handler: (state: T) => void): void {\n    this.on('update', handler);\n  }\n\n  // unsubscribe to changes\n  unsubscribe(handler: (state: T) => void): void {\n    this.removeListener('update', handler);\n  }\n\n  //\n  // private\n  //\n\n  // read from persistence\n  protected _getState(): T {\n    return this._state;\n  }\n\n  // write to persistence\n  protected _putState(newState: T): void {\n    this._state = newState;\n  }\n}\n","import { Duplex as DuplexStream } from 'stream';\n\nimport { ObservableStore } from './ObservableStore';\n\nclass ObservableStoreStream<T> extends DuplexStream {\n  handler: (state: T) => void;\n\n  obsStore: ObservableStore<T>;\n\n  constructor(obsStore: ObservableStore<T>) {\n    super({\n      // pass values, not serializations\n      objectMode: true,\n    });\n    // dont buffer outgoing updates\n    this.resume();\n    // save handler so we can unsubscribe later\n    this.handler = (state: T) => this.push(state);\n    // subscribe to obsStore changes\n    this.obsStore = obsStore;\n    this.obsStore.subscribe(this.handler);\n  }\n\n  // emit current state on new destination\n  pipe<U extends NodeJS.WritableStream>(\n    dest: U,\n    options?: { end?: boolean },\n  ): U {\n    const result = super.pipe(dest, options);\n    dest.write(this.obsStore.getState() as any);\n    return result;\n  }\n\n  // write from incoming stream to state\n  _write(\n    chunk: any,\n    _encoding: string,\n    callback: (error?: Error | null) => void,\n  ): void {\n    this.obsStore.putState(chunk);\n    callback();\n  }\n\n  // noop - outgoing stream is asking us if we have data we arent giving it\n  _read(_size: number): void {\n    return undefined;\n  }\n\n  // unsubscribe from event emitter\n  _destroy(err: Error | null, callback: (error: Error | null) => void): void {\n    this.obsStore.unsubscribe(this.handler);\n    super._destroy(err, callback);\n  }\n}\n\nexport function storeAsStream<T>(\n  obsStore: ObservableStore<T>,\n): ObservableStoreStream<T> {\n  return new ObservableStoreStream(obsStore);\n}\n","export * from './asStream';\nexport * from './ComposedStore';\nexport * from './MergedStore';\nexport * from './ObservableStore';\nexport * from './transform';\n","import { obj as TransformStream } from 'through2';\n\nexport function storeTransformStream<T, U>(syncTransformFn: (state: T) => U) {\n  return TransformStream((state, _encoding, cb) => {\n    try {\n      const newState = syncTransformFn(state);\n      cb(null, newState);\n      return undefined;\n    } catch (err) {\n      cb(err);\n      return undefined;\n    }\n  });\n}\n",null,"(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","import {\n  ADAPTER_STATUS,\n  BaseAdapter,\n  checkIfTokenIsExpired,\n  clearToken,\n  getSavedToken,\n  saveToken,\n  signChallenge,\n  UserAuthInfo,\n  verifySignedChallenge,\n  WalletLoginError,\n} from \"@web3auth/base\";\n\nexport abstract class BaseEvmAdapter<T> extends BaseAdapter<T> {\n  async authenticateUser(): Promise<UserAuthInfo> {\n    if (!this.provider || !this.chainConfig?.chainId) throw WalletLoginError.notConnectedError();\n\n    const { chainNamespace, chainId } = this.chainConfig;\n\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.notConnectedError(\"Not connected with wallet, Please login/connect first\");\n    const accounts = await this.provider.request<string[]>({\n      method: \"eth_accounts\",\n    });\n    if (accounts && accounts.length > 0) {\n      const existingToken = getSavedToken(accounts[0] as string, this.name);\n      if (existingToken) {\n        const isExpired = checkIfTokenIsExpired(existingToken);\n        if (!isExpired) {\n          return { idToken: existingToken };\n        }\n      }\n\n      const payload = {\n        domain: window.location.origin,\n        uri: window.location.href,\n        address: accounts[0],\n        chainId: parseInt(chainId, 16),\n        version: \"1\",\n        nonce: Math.random().toString(36).slice(2),\n        issuedAt: new Date().toISOString(),\n      };\n\n      const challenge = await signChallenge(payload, chainNamespace);\n\n      const signedMessage = await this.provider.request<string>({\n        method: \"personal_sign\",\n        params: [challenge, accounts[0]],\n      });\n\n      const idToken = await verifySignedChallenge(chainNamespace, signedMessage as string, challenge, this.name, this.sessionTime);\n      saveToken(accounts[0] as string, this.name, idToken);\n      return {\n        idToken,\n      };\n    }\n    throw WalletLoginError.notConnectedError(\"Not connected with wallet, Please login/connect first\");\n  }\n\n  async disconnect(): Promise<void> {\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.disconnectionError(\"Not connected with wallet\");\n    const accounts = await this.provider.request<string[]>({\n      method: \"eth_accounts\",\n    });\n    if (accounts && accounts.length > 0) {\n      clearToken(accounts[0], this.name);\n    }\n  }\n}\n","import { AbiType, StateMutabilityType } from \"web3-utils\";\n\nexport interface INodePub {\n  X: string;\n  Y: string;\n}\n\nexport interface INodeDetails {\n  currentEpoch: string;\n  nodeListAddress: string;\n  torusNodeEndpoints: string[];\n  torusNodePub: INodePub[];\n  torusIndexes: number[];\n  updated: boolean;\n}\n\nexport const ETHEREUM_NETWORK = {\n  ROPSTEN: \"ropsten\",\n  MAINNET: \"mainnet\",\n  POLYGON: \"polygon-mainnet\",\n} as const;\n\nexport type ETHEREUM_NETWORK_TYPE = typeof ETHEREUM_NETWORK[keyof typeof ETHEREUM_NETWORK];\n\nexport type NodeDetailManagerParams = { network?: ETHEREUM_NETWORK_TYPE | string; proxyAddress?: string };\n\nexport const abi = [\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"_verifier\",\n        type: \"string\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"hashedVerifierId\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"getNodeSet\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"currentEpoch\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"string[]\",\n        name: \"torusNodeEndpoints\",\n        type: \"string[]\",\n      },\n      {\n        internalType: \"uint256[]\",\n        name: \"torusNodePubX\",\n        type: \"uint256[]\",\n      },\n      {\n        internalType: \"uint256[]\",\n        name: \"torusNodePubY\",\n        type: \"uint256[]\",\n      },\n      {\n        internalType: \"uint256[]\",\n        name: \"torusIndexes\",\n        type: \"uint256[]\",\n      },\n    ],\n    stateMutability: \"view\" as StateMutabilityType,\n    type: \"function\" as AbiType,\n  },\n];\n","import Web3EthContract from \"web3-eth-contract\";\nimport { keccak256, toHex } from \"web3-utils\";\n\nimport { abi, ETHEREUM_NETWORK, INodeDetails, INodePub, NodeDetailManagerParams } from \"./interfaces\";\n\nclass NodeDetailManager {\n  public static PROXY_ADDRESS_MAINNET = \"0xf20336e16B5182637f09821c27BDe29b0AFcfe80\";\n\n  public static PROXY_ADDRESS_ROPSTEN = \"0x6258c9d6c12ed3edda59a1a6527e469517744aa7\";\n\n  public static PROXY_ADDRESS_POLYGON = \"0x9f072ba19b3370e512aa1b4bfcdaf97283168005\";\n\n  public static NODE_DETAILS_MAINNET: INodeDetails = {\n    currentEpoch: \"19\",\n    nodeListAddress: this.PROXY_ADDRESS_MAINNET,\n    torusNodeEndpoints: [\n      \"https://torus-19.torusnode.com/jrpc\",\n      \"https://torus-node.ens.domains/jrpc\",\n      \"https://torus-node.matic.network/jrpc\",\n      \"https://torus.zilliqa.network/jrpc\",\n      \"https://torus-mainnet.cosmos.network/jrpc\",\n      \"https://torus2.etherscan.com/jrpc\",\n      \"https://torus-node-v2.skalelabs.com/jrpc\",\n      \"https://torus-node.binancex.dev/jrpc\",\n      \"https://torusnode.ont.io/jrpc\",\n    ],\n    torusIndexes: [1, 2, 3, 4, 5, 6, 7, 8, 9],\n    torusNodePub: [\n      {\n        X: \"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b\",\n        Y: \"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5\",\n      },\n      {\n        X: \"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d\",\n        Y: \"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873\",\n      },\n      {\n        X: \"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe\",\n        Y: \"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152\",\n      },\n      {\n        X: \"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768\",\n        Y: \"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef\",\n      },\n      {\n        X: \"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064\",\n        Y: \"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1\",\n      },\n      {\n        X: \"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139\",\n        Y: \"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122\",\n      },\n      {\n        X: \"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6\",\n        Y: \"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9\",\n      },\n      {\n        X: \"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043\",\n        Y: \"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46\",\n      },\n      {\n        X: \"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5\",\n        Y: \"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790\",\n      },\n    ],\n    updated: false,\n  };\n\n  private _currentEpoch = \"\";\n\n  private _torusNodeEndpoints: string[] = [];\n\n  private _torusNodePub: INodePub[] = [];\n\n  private _torusIndexes: number[] = [];\n\n  private nodeListAddress: string;\n\n  private updated: boolean;\n\n  private nodeListContract: Web3EthContract.Contract;\n\n  constructor({ network = ETHEREUM_NETWORK.MAINNET, proxyAddress = NodeDetailManager.PROXY_ADDRESS_MAINNET }: NodeDetailManagerParams = {}) {\n    let url: string;\n    try {\n      const localUrl = new URL(network);\n      url = localUrl.href;\n    } catch (_) {\n      const projectId = process.env.INFURA_PROJECT_ID;\n      url = `https://${network}.infura.io/v3/${projectId}`;\n    }\n    Web3EthContract.setProvider(url);\n    this.nodeListContract = new Web3EthContract(abi, proxyAddress);\n    this.nodeListAddress = proxyAddress;\n    this.updated = false;\n  }\n\n  get _nodeDetails(): INodeDetails {\n    return {\n      currentEpoch: this._currentEpoch,\n      nodeListAddress: this.nodeListAddress,\n      torusNodeEndpoints: this._torusNodeEndpoints,\n      torusNodePub: this._torusNodePub,\n      torusIndexes: this._torusIndexes,\n      updated: this.updated,\n    };\n  }\n\n  async getNodeDetails({ verifier, verifierId }: { verifier: string; verifierId: string }): Promise<INodeDetails> {\n    try {\n      // Do this only for mainnet & testnet where the list is static irrespective of verifier, verifierId\n      if (\n        this.updated &&\n        (this.nodeListAddress === NodeDetailManager.PROXY_ADDRESS_MAINNET || this.nodeListAddress === NodeDetailManager.PROXY_ADDRESS_ROPSTEN)\n      )\n        return this._nodeDetails;\n      const hashedVerifierId = keccak256(verifierId);\n      const nodeDetails = await this.nodeListContract.methods.getNodeSet(verifier, hashedVerifierId).call();\n      const { currentEpoch, torusNodeEndpoints, torusNodePubX, torusNodePubY, torusIndexes } = nodeDetails;\n      this._currentEpoch = currentEpoch;\n      this._torusIndexes = torusIndexes.map((x: string) => Number(x));\n      const updatedEndpoints: string[] = [];\n      const updatedNodePub: INodePub[] = [];\n      for (let index = 0; index < torusNodeEndpoints.length; index += 1) {\n        const endPointElement = torusNodeEndpoints[index];\n        const pubKx = torusNodePubX[index];\n        const pubKy = torusNodePubY[index];\n        const endpoint = `https://${endPointElement.split(\":\")[0]}/jrpc`;\n        updatedEndpoints.push(endpoint);\n        updatedNodePub.push({ X: toHex(pubKx).replace(\"0x\", \"\"), Y: toHex(pubKy).replace(\"0x\", \"\") });\n      }\n      this._torusNodeEndpoints = updatedEndpoints;\n      this._torusNodePub = updatedNodePub;\n      this.updated = true;\n      return this._nodeDetails;\n    } catch (error) {\n      if (this.nodeListAddress === NodeDetailManager.PROXY_ADDRESS_MAINNET) {\n        return NodeDetailManager.NODE_DETAILS_MAINNET;\n      }\n      throw error;\n    }\n  }\n}\n\nexport default NodeDetailManager;\n","import loglevel from \"loglevel\";\n\nconst log = loglevel.getLogger(\"torus.js\");\nlog.disableAll();\n\nexport default log;\n","function capitalizeFirstLetter(str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport class SomeError<T> extends Error {\n  errors: Error[];\n\n  responses: T[];\n\n  predicate: string;\n\n  constructor({ errors, responses, predicate }: { errors: Error[]; responses: T[]; predicate: string }) {\n    super(\"Unable to resolve enough promises.\");\n    this.errors = errors;\n    this.responses = responses;\n    this.predicate = predicate;\n  }\n}\n\nexport const Some = <K, T>(promises: Promise<K>[], predicate: (resultArr: K[], { resolved }: { resolved: boolean }) => Promise<T>): Promise<T> =>\n  new Promise((resolve, reject) => {\n    let finishedCount = 0;\n    const sharedState = { resolved: false };\n    const errorArr: Error[] = new Array(promises.length).fill(undefined);\n    const resultArr: K[] = new Array(promises.length).fill(undefined);\n    let predicateError: Error | string;\n    return promises.forEach((x, index) => {\n      return (\n        x\n          .then((resp: K) => {\n            resultArr[index] = resp;\n            return undefined;\n          })\n          .catch((error: Error) => {\n            errorArr[index] = error;\n          })\n          // eslint-disable-next-line promise/no-return-in-finally\n          .finally(() => {\n            if (sharedState.resolved) return;\n            return predicate(resultArr.slice(0), sharedState)\n              .then((data) => {\n                sharedState.resolved = true;\n                resolve(data);\n                return undefined;\n              })\n              .catch((error) => {\n                // log only the last predicate error\n                predicateError = error;\n              })\n              .finally(() => {\n                finishedCount += 1;\n                if (finishedCount === promises.length) {\n                  const errors = Object.values(\n                    resultArr.reduce((acc: Record<string, string>, z) => {\n                      if (z) {\n                        const { id, error } = z as { id?: string; error?: { data?: string } };\n                        if (error?.data?.length > 0) {\n                          if (error.data.startsWith(\"Error occurred while verifying params\")) acc[id] = capitalizeFirstLetter(error.data);\n                          else acc[id] = error.data;\n                        }\n                      }\n                      return acc;\n                    }, {})\n                  );\n\n                  if (errors.length > 0) {\n                    // Format-able errors\n                    const msg = errors.length > 1 ? `\\n${errors.map((it) => `• ${it}`).join(\"\\n\")}` : errors[0];\n                    reject(new Error(msg));\n                  } else {\n                    reject(\n                      new SomeError({\n                        errors: errorArr,\n                        responses: resultArr,\n                        predicate: (predicateError as Error)?.message || (predicateError as string),\n                      })\n                    );\n                  }\n                }\n              });\n          })\n      );\n    });\n  });\n","import { generateJsonRPCObject, post } from \"@toruslabs/http-helpers\";\nimport JsonStringify from \"json-stable-stringify\";\nimport createKeccakHash from \"keccak\";\n\nimport { JRPCResponse, KeyAssignInput, KeyLookupResult, SignerResponse, VerifierLookupResponse } from \"./interfaces\";\nimport log from \"./loglevel\";\nimport { Some } from \"./some\";\n\nexport class GetOrSetNonceError extends Error {}\n\nexport const kCombinations = (s: number | number[], k: number): number[][] => {\n  let set = s;\n  if (typeof set === \"number\") {\n    set = Array.from({ length: set }, (_, i) => i);\n  }\n  if (k > set.length || k <= 0) {\n    return [];\n  }\n\n  if (k === set.length) {\n    return [set];\n  }\n\n  if (k === 1) {\n    return set.reduce((acc, cur) => [...acc, [cur]], [] as number[][]);\n  }\n\n  const combs: number[][] = [];\n  let tailCombs: number[][] = [];\n\n  for (let i = 0; i <= set.length - k + 1; i += 1) {\n    tailCombs = kCombinations(set.slice(i + 1), k - 1);\n    for (let j = 0; j < tailCombs.length; j += 1) {\n      combs.push([set[i], ...tailCombs[j]]);\n    }\n  }\n\n  return combs;\n};\n\nexport const thresholdSame = <T>(arr: T[], t: number): T | undefined => {\n  const hashMap: Record<string, number> = {};\n  for (let i = 0; i < arr.length; i += 1) {\n    const str = JsonStringify(arr[i]);\n    hashMap[str] = hashMap[str] ? hashMap[str] + 1 : 1;\n    if (hashMap[str] === t) {\n      return arr[i];\n    }\n  }\n  return undefined;\n};\n\nexport const keyLookup = async (endpoints: string[], verifier: string, verifierId: string): Promise<KeyLookupResult> => {\n  const lookupPromises = endpoints.map((x) =>\n    post<JRPCResponse<VerifierLookupResponse>>(\n      x,\n      generateJsonRPCObject(\"VerifierLookupRequest\", {\n        verifier,\n        verifier_id: verifierId.toString(),\n      })\n    ).catch((err) => log.error(\"lookup request failed\", err))\n  );\n  return Some<void | JRPCResponse<VerifierLookupResponse>, KeyLookupResult>(lookupPromises, (lookupResults) => {\n    const lookupShares = lookupResults.filter((x1) => x1);\n    const errorResult = thresholdSame(\n      lookupShares.map((x2) => x2 && x2.error),\n      ~~(endpoints.length / 2) + 1\n    );\n    const keyResult = thresholdSame(\n      lookupShares.map((x3) => x3 && x3.result),\n      ~~(endpoints.length / 2) + 1\n    );\n    if (keyResult || errorResult) {\n      return Promise.resolve({ keyResult, errorResult });\n    }\n    return Promise.reject(new Error(`invalid results ${JSON.stringify(lookupResults)}`));\n  });\n};\n\nexport const waitKeyLookup = (endpoints: string[], verifier: string, verifierId: string, timeout: number): Promise<KeyLookupResult> =>\n  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      keyLookup(endpoints, verifier, verifierId).then(resolve).catch(reject);\n    }, timeout);\n  });\n\nexport const keyAssign = async ({\n  endpoints,\n  torusNodePubs,\n  lastPoint,\n  firstPoint,\n  verifier,\n  verifierId,\n  signerHost,\n  network,\n}: KeyAssignInput): Promise<void> => {\n  let nodeNum: number;\n  let initialPoint: number | undefined;\n  if (lastPoint === undefined) {\n    nodeNum = Math.floor(Math.random() * endpoints.length);\n    initialPoint = nodeNum;\n  } else {\n    nodeNum = lastPoint % endpoints.length;\n  }\n  if (nodeNum === firstPoint) throw new Error(\"Looped through all\");\n  if (firstPoint !== undefined) initialPoint = firstPoint;\n\n  const data = generateJsonRPCObject(\"KeyAssign\", {\n    verifier,\n    verifier_id: verifierId.toString(),\n  });\n  try {\n    const signedData = await post<SignerResponse>(\n      signerHost,\n      data,\n      {\n        headers: {\n          pubKeyX: torusNodePubs[nodeNum].X,\n          pubKeyY: torusNodePubs[nodeNum].Y,\n          network,\n        },\n      },\n      { useAPIKey: true }\n    );\n    return await post<void>(\n      endpoints[nodeNum],\n      { ...data, ...signedData },\n      {\n        headers: {\n          \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n      }\n    );\n  } catch (error) {\n    log.error(error);\n    const acceptedErrorMsgs = [\n      // Slow node\n      \"Timed out\",\n      // Happens when the node is not reachable (dns issue etc)\n      \"TypeError: Failed to fetch\", // All except iOS and Firefox\n      \"TypeError: cancelled\", // iOS\n      \"TypeError: NetworkError when attempting to fetch resource.\", // Firefox\n    ];\n    if (acceptedErrorMsgs.includes(error.message))\n      return keyAssign({ endpoints, torusNodePubs, lastPoint: nodeNum + 1, firstPoint: initialPoint, verifier, verifierId, signerHost, network });\n    throw new Error(\n      `Sorry, the Torus Network that powers Web3Auth is currently very busy.\n    We will generate your key in time. Pls try again later. \\n\n    ${error.message || \"\"}`\n    );\n  }\n};\n\nexport function keccak256(a: string | Buffer): string {\n  const hash = createKeccakHash(\"keccak256\").update(a).digest().toString(\"hex\");\n  return `0x${hash}`;\n}\n","import { decrypt, generatePrivate, getPublic } from \"@toruslabs/eccrypto\";\nimport type { INodePub } from \"@toruslabs/fetch-node-details\";\nimport { Data, generateJsonRPCObject, get, post, setAPIKey, setEmbedHost } from \"@toruslabs/http-helpers\";\nimport BN from \"bn.js\";\nimport { curve, ec as EC } from \"elliptic\";\nimport stringify from \"json-stable-stringify\";\nimport { toChecksumAddress } from \"web3-utils\";\n\nimport {\n  CommitmentRequestResult,\n  GetOrSetNonceResult,\n  JRPCResponse,\n  MetadataParams,\n  RetrieveSharesResponse,\n  SetCustomKeyOptions,\n  ShareRequestResult,\n  TorusCtorOptions,\n  TorusPublicKey,\n  V1UserTypeAndAddress,\n  V2UserTypeAndAddress,\n  VerifierLookupResponse,\n  VerifierParams,\n} from \"./interfaces\";\nimport log from \"./loglevel\";\nimport { Some } from \"./some\";\nimport { GetOrSetNonceError, kCombinations, keccak256, keyAssign, keyLookup, thresholdSame, waitKeyLookup } from \"./utils\";\n\n// Implement threshold logic wrappers around public APIs\n// of Torus nodes to handle malicious node responses\nclass Torus {\n  public metadataHost: string;\n\n  public allowHost: string;\n\n  public serverTimeOffset: number;\n\n  public enableOneKey: boolean;\n\n  public signerHost: string;\n\n  public network: string;\n\n  protected ec: EC;\n\n  constructor({\n    enableOneKey = false,\n    metadataHost = \"https://metadata.tor.us\",\n    allowHost = \"https://signer.tor.us/api/allow\",\n    signerHost = \"https://signer.tor.us/api/sign\",\n    serverTimeOffset = 0,\n    network = \"mainnet\",\n  }: TorusCtorOptions = {}) {\n    this.ec = new EC(\"secp256k1\");\n    this.metadataHost = metadataHost;\n    this.allowHost = allowHost;\n    this.enableOneKey = enableOneKey;\n    this.serverTimeOffset = serverTimeOffset || 0; // ms\n    this.signerHost = signerHost;\n    this.network = network;\n  }\n\n  static enableLogging(v = true): void {\n    if (v) log.enableAll();\n    else log.disableAll();\n  }\n\n  static setAPIKey(apiKey: string): void {\n    setAPIKey(apiKey);\n  }\n\n  static setEmbedHost(embedHost: string): void {\n    setEmbedHost(embedHost);\n  }\n\n  static isGetOrSetNonceError(err: unknown): boolean {\n    return err instanceof GetOrSetNonceError;\n  }\n\n  /**\n   * Note: use this function only for openlogin tkey account lookups.\n   */\n  async getUserTypeAndAddress(\n    endpoints: string[],\n    torusNodePubs: INodePub[],\n    { verifier, verifierId }: { verifier: string; verifierId: string },\n    doesKeyAssign = false\n  ): Promise<V1UserTypeAndAddress | V2UserTypeAndAddress> {\n    const { keyResult, errorResult } = (await keyLookup(endpoints, verifier, verifierId)) || {};\n    let isNewKey = false;\n    let finalKeyResult: VerifierLookupResponse;\n    if (errorResult && JSON.stringify(errorResult).includes(\"Verifier + VerifierID has not yet been assigned\")) {\n      if (!doesKeyAssign) {\n        throw new Error(\"Verifier + VerifierID has not yet been assigned\");\n      }\n      await keyAssign({\n        endpoints,\n        torusNodePubs,\n        lastPoint: undefined,\n        firstPoint: undefined,\n        verifier,\n        verifierId,\n        signerHost: this.signerHost,\n        network: this.network,\n      });\n      const assignResult = await waitKeyLookup(endpoints, verifier, verifierId, 1000);\n      finalKeyResult = assignResult?.keyResult;\n      isNewKey = true;\n    } else if (keyResult) {\n      finalKeyResult = keyResult;\n    } else {\n      throw new Error(`node results do not match at first lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n    }\n    if (finalKeyResult) {\n      const { pub_key_X: X, pub_key_Y: Y } = finalKeyResult.keys[0];\n      let nonceResult: GetOrSetNonceResult;\n      let nonce: BN;\n      let modifiedPubKey: curve.base.BasePoint;\n\n      try {\n        nonceResult = await this.getOrSetNonce(X, Y, undefined, !isNewKey);\n        nonce = new BN(nonceResult.nonce || \"0\", 16);\n      } catch {\n        throw new GetOrSetNonceError();\n      }\n      if (nonceResult.typeOfUser === \"v1\") {\n        modifiedPubKey = this.ec\n          .keyFromPublic({ x: X, y: Y })\n          .getPublic()\n          .add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n      } else if (nonceResult.typeOfUser === \"v2\") {\n        modifiedPubKey = this.ec\n          .keyFromPublic({ x: X, y: Y })\n          .getPublic()\n          .add(this.ec.keyFromPublic({ x: nonceResult.pubNonce.x, y: nonceResult.pubNonce.y }).getPublic());\n      } else {\n        throw new Error(\"getOrSetNonce should always return typeOfUser.\");\n      }\n      const finalX = modifiedPubKey.getX().toString(16);\n      const finalY = modifiedPubKey.getY().toString(16);\n      const address = this.generateAddressFromPubKey(modifiedPubKey.getX(), modifiedPubKey.getY());\n      if (nonceResult.typeOfUser === \"v1\") return { typeOfUser: nonceResult.typeOfUser, nonce, X: finalX, Y: finalY, address };\n      else if (nonceResult.typeOfUser === \"v2\") {\n        return {\n          typeOfUser: nonceResult.typeOfUser,\n          nonce,\n          pubNonce: nonceResult.pubNonce,\n          upgraded: nonceResult.upgraded,\n          X: finalX,\n          Y: finalY,\n          address,\n        };\n      }\n    }\n    throw new Error(`node results do not match at final lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n  }\n\n  async setCustomKey({ privKeyHex, metadataNonce, torusKeyHex, customKeyHex }: SetCustomKeyOptions): Promise<void> {\n    let torusKey: BN;\n    if (torusKeyHex) {\n      torusKey = new BN(torusKeyHex, 16);\n    } else {\n      const privKey = new BN(privKeyHex as string, 16);\n      torusKey = privKey.sub(metadataNonce as BN).umod(this.ec.curve.n);\n    }\n    const customKey = new BN(customKeyHex, 16);\n    const newMetadataNonce = customKey.sub(torusKey).umod(this.ec.curve.n);\n    const data = this.generateMetadataParams(newMetadataNonce.toString(16), torusKey);\n    await this.setMetadata(data);\n  }\n\n  async retrieveShares(\n    endpoints: string[],\n    indexes: number[],\n    verifier: string,\n    verifierParams: VerifierParams,\n    idToken: string,\n    extraParams: Record<string, unknown> = {}\n  ): Promise<RetrieveSharesResponse> {\n    const promiseArr = [];\n    await get<void>(\n      this.allowHost,\n      {\n        headers: {\n          verifier,\n          verifier_id: verifierParams.verifier_id,\n          network: this.network,\n        },\n      },\n      { useAPIKey: true }\n    );\n    /*\n      CommitmentRequestParams struct {\n        MessagePrefix      string `json:\"messageprefix\"`\n        TokenCommitment    string `json:\"tokencommitment\"`\n        TempPubX           string `json:\"temppubx\"`\n        TempPubY           string `json:\"temppuby\"`\n        VerifierIdentifier string `json:\"verifieridentifier\"`\n      } \n      */\n\n    // generate temporary private and public key that is used to secure receive shares\n    const tmpKey = generatePrivate();\n    const pubKey = getPublic(tmpKey).toString(\"hex\");\n    const pubKeyX = pubKey.slice(2, 66);\n    const pubKeyY = pubKey.slice(66);\n    const tokenCommitment = keccak256(idToken);\n\n    // make commitment requests to endpoints\n    for (let i = 0; i < endpoints.length; i += 1) {\n      const p = post<JRPCResponse<CommitmentRequestResult>>(\n        endpoints[i],\n        generateJsonRPCObject(\"CommitmentRequest\", {\n          messageprefix: \"mug00\",\n          tokencommitment: tokenCommitment.slice(2),\n          temppubx: pubKeyX,\n          temppuby: pubKeyY,\n          verifieridentifier: verifier,\n        })\n      ).catch((err) => {\n        log.error(\"commitment\", err);\n      });\n      promiseArr.push(p);\n    }\n    /*\n      ShareRequestParams struct {\n        Item []bijson.RawMessage `json:\"item\"`\n      }\n      ShareRequestItem struct {\n        IDToken            string          `json:\"idtoken\"`\n        NodeSignatures     []NodeSignature `json:\"nodesignatures\"`\n        VerifierIdentifier string          `json:\"verifieridentifier\"`\n      }\n      NodeSignature struct {\n        Signature   string\n        Data        string\n        NodePubKeyX string\n        NodePubKeyY string\n      }\n      CommitmentRequestResult struct {\n        Signature string `json:\"signature\"`\n        Data      string `json:\"data\"`\n        NodePubX  string `json:\"nodepubx\"`\n        NodePubY  string `json:\"nodepuby\"`\n      }\n      */\n    // send share request once k + t number of commitment requests have completed\n    return Some<void | JRPCResponse<CommitmentRequestResult>, (void | JRPCResponse<CommitmentRequestResult>)[]>(promiseArr, (resultArr) => {\n      const completedRequests = resultArr.filter((x) => {\n        if (!x || typeof x !== \"object\") {\n          return false;\n        }\n        if (x.error) {\n          return false;\n        }\n        return true;\n      });\n      if (completedRequests.length >= ~~(endpoints.length / 4) * 3 + 1) {\n        return Promise.resolve(resultArr);\n      }\n      return Promise.reject(new Error(`invalid ${JSON.stringify(resultArr)}`));\n    })\n      .then((responses) => {\n        const promiseArrRequest: Promise<void | JRPCResponse<ShareRequestResult>>[] = [];\n        const nodeSigs = [];\n        for (let i = 0; i < responses.length; i += 1) {\n          if (responses[i]) nodeSigs.push((responses[i] as JRPCResponse<CommitmentRequestResult>).result);\n        }\n        for (let i = 0; i < endpoints.length; i += 1) {\n          // eslint-disable-next-line promise/no-nesting\n          const p = post<JRPCResponse<ShareRequestResult>>(\n            endpoints[i],\n            generateJsonRPCObject(\"ShareRequest\", {\n              encrypted: \"yes\",\n              item: [{ ...verifierParams, idtoken: idToken, nodesignatures: nodeSigs, verifieridentifier: verifier, ...extraParams }],\n            })\n          ).catch((err) => log.error(\"share req\", err));\n          promiseArrRequest.push(p);\n        }\n        return Some<void | JRPCResponse<ShareRequestResult>, BN | undefined>(promiseArrRequest, async (shareResponses, sharedState) => {\n          /*\n              ShareRequestResult struct {\n                Keys []KeyAssignment\n              }\n                      / KeyAssignmentPublic -\n              type KeyAssignmentPublic struct {\n                Index     big.Int\n                PublicKey common.Point\n                Threshold int\n                Verifiers map[string][]string // Verifier => VerifierID\n              }\n\n              // KeyAssignment -\n              type KeyAssignment struct {\n                KeyAssignmentPublic\n                Share big.Int // Or Si\n              }\n            */\n          // check if threshold number of nodes have returned the same user public key\n          const completedRequests = shareResponses.filter((x) => x);\n          const thresholdPublicKey = thresholdSame(\n            shareResponses.map((x) => x && x.result && x.result.keys[0].PublicKey),\n            ~~(endpoints.length / 2) + 1\n          );\n          // optimistically run lagrange interpolation once threshold number of shares have been received\n          // this is matched against the user public key to ensure that shares are consistent\n          if (completedRequests.length >= ~~(endpoints.length / 2) + 1 && thresholdPublicKey) {\n            const sharePromises: Promise<void | Buffer>[] = [];\n            const nodeIndexes: BN[] = [];\n            for (let i = 0; i < shareResponses.length; i += 1) {\n              const currentShareResponse = shareResponses[i] as JRPCResponse<ShareRequestResult>;\n              if (currentShareResponse?.result?.keys?.length > 0) {\n                currentShareResponse.result.keys.sort((a, b) => new BN(a.Index, 16).cmp(new BN(b.Index, 16)));\n                const firstKey = currentShareResponse.result.keys[0];\n                if (firstKey.Metadata) {\n                  const metadata = {\n                    ephemPublicKey: Buffer.from(firstKey.Metadata.ephemPublicKey, \"hex\"),\n                    iv: Buffer.from(firstKey.Metadata.iv, \"hex\"),\n                    mac: Buffer.from(firstKey.Metadata.mac, \"hex\"),\n                    // mode: Buffer.from(firstKey.Metadata.mode, \"hex\"),\n                  };\n                  sharePromises.push(\n                    // eslint-disable-next-line promise/no-nesting\n                    decrypt(tmpKey, {\n                      ...metadata,\n                      ciphertext: Buffer.from(Buffer.from(firstKey.Share, \"base64\").toString(\"binary\").padStart(64, \"0\"), \"hex\"),\n                    }).catch((err) => log.debug(\"share decryption\", err))\n                  );\n                } else {\n                  sharePromises.push(Promise.resolve(Buffer.from(firstKey.Share.padStart(64, \"0\"), \"hex\")));\n                }\n              } else {\n                sharePromises.push(Promise.resolve(undefined));\n              }\n              nodeIndexes.push(new BN(indexes[i], 16));\n            }\n            const sharesResolved = await Promise.all(sharePromises);\n            if (sharedState.resolved) return undefined;\n\n            const decryptedShares = sharesResolved.reduce((acc, curr, index) => {\n              if (curr) acc.push({ index: nodeIndexes[index], value: new BN(curr) });\n              return acc;\n            }, [] as { index: BN; value: BN }[]);\n            // run lagrange interpolation on all subsets, faster in the optimistic scenario than berlekamp-welch due to early exit\n            const allCombis = kCombinations(decryptedShares.length, ~~(endpoints.length / 2) + 1);\n            let privateKey: BN | null = null;\n            for (let j = 0; j < allCombis.length; j += 1) {\n              const currentCombi = allCombis[j];\n              const currentCombiShares = decryptedShares.filter((v, index) => currentCombi.includes(index));\n              const shares = currentCombiShares.map((x) => x.value);\n              const indices = currentCombiShares.map((x) => x.index);\n              const derivedPrivateKey = this.lagrangeInterpolation(shares, indices);\n              if (!derivedPrivateKey) continue;\n              const decryptedPubKey = getPublic(Buffer.from(derivedPrivateKey.toString(16, 64), \"hex\")).toString(\"hex\");\n              const decryptedPubKeyX = decryptedPubKey.slice(2, 66);\n              const decryptedPubKeyY = decryptedPubKey.slice(66);\n              if (\n                new BN(decryptedPubKeyX, 16).cmp(new BN(thresholdPublicKey.X, 16)) === 0 &&\n                new BN(decryptedPubKeyY, 16).cmp(new BN(thresholdPublicKey.Y, 16)) === 0\n              ) {\n                privateKey = derivedPrivateKey;\n                break;\n              }\n            }\n            if (privateKey === undefined || privateKey === null) {\n              throw new Error(\"could not derive private key\");\n            }\n            return privateKey;\n          }\n          throw new Error(\"invalid\");\n        });\n      })\n      .then(async (returnedKey) => {\n        let privateKey = returnedKey;\n        if (!privateKey) throw new Error(\"Invalid private key returned\");\n        const decryptedPubKey = getPublic(Buffer.from(privateKey.toString(16, 64), \"hex\")).toString(\"hex\");\n        const decryptedPubKeyX = decryptedPubKey.slice(2, 66);\n        const decryptedPubKeyY = decryptedPubKey.slice(66);\n        let metadataNonce: BN;\n        if (this.enableOneKey) {\n          const { nonce } = await this.getNonce(decryptedPubKeyX, decryptedPubKeyY, privateKey);\n          metadataNonce = new BN(nonce || \"0\", 16);\n        } else {\n          metadataNonce = await this.getMetadata({ pub_key_X: decryptedPubKeyX, pub_key_Y: decryptedPubKeyY });\n        }\n        log.debug(\"> torus.js/retrieveShares\", { privKey: privateKey.toString(16), metadataNonce: metadataNonce.toString(16) });\n\n        privateKey = privateKey.add(metadataNonce).umod(this.ec.curve.n);\n\n        const ethAddress = this.generateAddressFromPrivKey(privateKey);\n        log.debug(\"> torus.js/retrieveShares\", { ethAddress, privKey: privateKey.toString(16) });\n\n        // return reconstructed private key and ethereum address\n        return {\n          ethAddress,\n          privKey: privateKey.toString(\"hex\", 64),\n          metadataNonce,\n        };\n      });\n  }\n\n  async getMetadata(data: Omit<MetadataParams, \"set_data\" | \"signature\">, options: RequestInit = {}): Promise<BN> {\n    try {\n      const metadataResponse = await post<{ message?: string }>(`${this.metadataHost}/get`, data, options, { useAPIKey: true });\n      if (!metadataResponse || !metadataResponse.message) {\n        return new BN(0);\n      }\n      return new BN(metadataResponse.message, 16); // nonce\n    } catch (error) {\n      log.error(\"get metadata error\", error);\n      return new BN(0);\n    }\n  }\n\n  generateMetadataParams(message: string, privateKey: BN): MetadataParams {\n    const key = this.ec.keyFromPrivate(privateKey.toString(\"hex\", 64));\n    const setData = {\n      data: message,\n      timestamp: new BN(~~(this.serverTimeOffset + Date.now() / 1000)).toString(16),\n    };\n    const sig = key.sign(keccak256(stringify(setData)).slice(2));\n    return {\n      pub_key_X: key.getPublic().getX().toString(\"hex\"),\n      pub_key_Y: key.getPublic().getY().toString(\"hex\"),\n      set_data: setData,\n      signature: Buffer.from(sig.r.toString(16, 64) + sig.s.toString(16, 64) + new BN(\"\").toString(16, 2), \"hex\").toString(\"base64\"),\n    };\n  }\n\n  async setMetadata(data: MetadataParams, options: RequestInit = {}): Promise<string> {\n    try {\n      const metadataResponse = await post<{ message: string }>(`${this.metadataHost}/set`, data, options, { useAPIKey: true });\n      return metadataResponse.message; // IPFS hash\n    } catch (error) {\n      log.error(\"set metadata error\", error);\n      return \"\";\n    }\n  }\n\n  lagrangeInterpolation(shares: BN[], nodeIndex: BN[]): BN | null {\n    if (shares.length !== nodeIndex.length) {\n      return null;\n    }\n    let secret = new BN(0);\n    for (let i = 0; i < shares.length; i += 1) {\n      let upper = new BN(1);\n      let lower = new BN(1);\n      for (let j = 0; j < shares.length; j += 1) {\n        if (i !== j) {\n          upper = upper.mul(nodeIndex[j].neg());\n          upper = upper.umod(this.ec.curve.n);\n          let temp = nodeIndex[i].sub(nodeIndex[j]);\n          temp = temp.umod(this.ec.curve.n);\n          lower = lower.mul(temp).umod(this.ec.curve.n);\n        }\n      }\n      let delta = upper.mul(lower.invm(this.ec.curve.n)).umod(this.ec.curve.n);\n      delta = delta.mul(shares[i]).umod(this.ec.curve.n);\n      secret = secret.add(delta);\n    }\n    return secret.umod(this.ec.curve.n);\n  }\n\n  generateAddressFromPrivKey(privateKey: BN): string {\n    const key = this.ec.keyFromPrivate(privateKey.toString(\"hex\", 64), \"hex\");\n    const publicKey = key.getPublic().encode(\"hex\", false).slice(2);\n    log.info(publicKey, \"public key\");\n    const ethAddressLower = `0x${keccak256(Buffer.from(publicKey, \"hex\")).slice(64 - 38)}`;\n    return toChecksumAddress(ethAddressLower);\n  }\n\n  generateAddressFromPubKey(publicKeyX: BN, publicKeyY: BN): string {\n    const key = this.ec.keyFromPublic({ x: publicKeyX.toString(\"hex\", 64), y: publicKeyY.toString(\"hex\", 64) });\n    const publicKey = key.getPublic().encode(\"hex\", false).slice(2);\n    log.info(key.getPublic().encode(\"hex\", false), \"public key\");\n    const ethAddressLower = `0x${keccak256(Buffer.from(publicKey, \"hex\")).slice(64 - 38)}`;\n    return toChecksumAddress(ethAddressLower);\n  }\n\n  /**\n   * Note: use this function only with custom auth, don't use to lookup openlogin accounts.\n   */\n  async getPublicAddress(\n    endpoints: string[],\n    torusNodePubs: INodePub[],\n    { verifier, verifierId }: { verifier: string; verifierId: string },\n    isExtended = false\n  ): Promise<string | TorusPublicKey> {\n    log.debug(\"> torus.js/getPublicAddress\", { endpoints, torusNodePubs, verifier, verifierId, isExtended });\n\n    let finalKeyResult: VerifierLookupResponse | undefined;\n    let isNewKey = false;\n\n    const { keyResult, errorResult } = (await keyLookup(endpoints, verifier, verifierId)) || {};\n    if (errorResult && JSON.stringify(errorResult).includes(\"Verifier not supported\")) {\n      // change error msg\n      throw new Error(`Verifier not supported. Check if you: \\n\n      1. Are on the right network (Torus testnet/mainnet) \\n\n      2. Have setup a verifier on dashboard.web3auth.io?`);\n    } else if (errorResult && JSON.stringify(errorResult).includes(\"Verifier + VerifierID has not yet been assigned\")) {\n      await keyAssign({\n        endpoints,\n        torusNodePubs,\n        lastPoint: undefined,\n        firstPoint: undefined,\n        verifier,\n        verifierId,\n        signerHost: this.signerHost,\n        network: this.network,\n      });\n      const assignResult = await waitKeyLookup(endpoints, verifier, verifierId, 1000);\n      finalKeyResult = assignResult?.keyResult;\n      isNewKey = true;\n    } else if (keyResult) {\n      finalKeyResult = keyResult;\n    } else {\n      throw new Error(`node results do not match at first lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n    }\n    log.debug(\"> torus.js/getPublicAddress\", { finalKeyResult, isNewKey });\n\n    if (finalKeyResult) {\n      let { pub_key_X: X, pub_key_Y: Y } = finalKeyResult.keys[0];\n      let nonceResult: GetOrSetNonceResult;\n      let nonce: BN;\n      let modifiedPubKey: curve.base.BasePoint;\n      let typeOfUser: GetOrSetNonceResult[\"typeOfUser\"];\n      let pubNonce: { x: string; y: string } | undefined;\n      if (this.enableOneKey) {\n        try {\n          nonceResult = await this.getOrSetNonce(X, Y, undefined, !isNewKey);\n          nonce = new BN(nonceResult.nonce || \"0\", 16);\n          typeOfUser = nonceResult.typeOfUser;\n        } catch {\n          throw new GetOrSetNonceError();\n        }\n        if (nonceResult.typeOfUser === \"v1\") {\n          modifiedPubKey = this.ec\n            .keyFromPublic({ x: X, y: Y })\n            .getPublic()\n            .add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n        } else if (nonceResult.typeOfUser === \"v2\") {\n          if (nonceResult.upgraded) {\n            // OneKey is upgraded to 2/n, returned address is address of Torus key (postbox key), not tKey\n            modifiedPubKey = this.ec.keyFromPublic({ x: X, y: Y }).getPublic();\n          } else {\n            modifiedPubKey = this.ec\n              .keyFromPublic({ x: X, y: Y })\n              .getPublic()\n              .add(this.ec.keyFromPublic({ x: nonceResult.pubNonce.x, y: nonceResult.pubNonce.y }).getPublic());\n            pubNonce = nonceResult.pubNonce;\n          }\n        } else {\n          throw new Error(\"getOrSetNonce should always return typeOfUser.\");\n        }\n      } else {\n        typeOfUser = \"v1\";\n        nonce = await this.getMetadata({ pub_key_X: X, pub_key_Y: Y });\n        modifiedPubKey = this.ec\n          .keyFromPublic({ x: X, y: Y })\n          .getPublic()\n          .add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n      }\n\n      X = modifiedPubKey.getX().toString(16);\n      Y = modifiedPubKey.getY().toString(16);\n\n      const address = this.generateAddressFromPubKey(modifiedPubKey.getX(), modifiedPubKey.getY());\n      log.debug(\"> torus.js/getPublicAddress\", { X, Y, address, typeOfUser, nonce: nonce?.toString(16), pubNonce });\n\n      if (!isExtended) return address;\n      return {\n        typeOfUser,\n        address,\n        X,\n        Y,\n        metadataNonce: nonce,\n        pubNonce,\n      };\n    }\n    throw new Error(`node results do not match at final lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n  }\n\n  /**\n   * Internal functions for OneKey (OpenLogin v2), only call these functions if you know what you're doing\n   */\n\n  async getOrSetNonce(X: string, Y: string, privKey?: BN, getOnly = false): Promise<GetOrSetNonceResult> {\n    let data: Data;\n    const msg = getOnly ? \"getNonce\" : \"getOrSetNonce\";\n    if (privKey) {\n      data = this.generateMetadataParams(msg, privKey);\n    } else {\n      data = {\n        pub_key_X: X,\n        pub_key_Y: Y,\n        set_data: { data: msg },\n      };\n    }\n    return post<GetOrSetNonceResult>(`${this.metadataHost}/get_or_set_nonce`, data, undefined, { useAPIKey: true });\n  }\n\n  async getNonce(X: string, Y: string, privKey?: BN): Promise<GetOrSetNonceResult> {\n    return this.getOrSetNonce(X, Y, privKey, true);\n  }\n\n  getPostboxKeyFrom1OutOf1(privKey: string, nonce: string): string {\n    const privKeyBN = new BN(privKey, 16);\n    const nonceBN = new BN(nonce, 16);\n    return privKeyBN.sub(nonceBN).umod(this.ec.curve.n).toString(\"hex\");\n  }\n}\n\nexport default Torus;\n","import { JRPCId, JRPCMiddleware, JRPCRequest, JRPCVersion, SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport createHash from \"create-hash\";\nimport type { Duplex } from \"readable-stream\";\n\nexport const LOGIN_PROVIDER = {\n  GOOGLE: \"google\",\n  FACEBOOK: \"facebook\",\n  TWITCH: \"twitch\",\n  REDDIT: \"reddit\",\n  DISCORD: \"discord\",\n} as const;\n\nexport const WALLET_VERIFIERS = {\n  GOOGLE: \"google\",\n  FACEBOOK: \"facebook\",\n  TWITCH: \"twitch\",\n  REDDIT: \"reddit\",\n  DISCORD: \"discord\",\n  EMAIL_PASSWORDLESS: \"torus-auth0-email-passwordless\",\n} as const;\n\nexport const WALLET_OPENLOGIN_VERIFIER_MAP = {\n  [WALLET_VERIFIERS.GOOGLE]: \"tkey-google\",\n  [WALLET_VERIFIERS.FACEBOOK]: \"tkey-facebook\",\n  [WALLET_VERIFIERS.TWITCH]: \"tkey-twitch\",\n  [WALLET_VERIFIERS.REDDIT]: \"tkey-reddit\",\n  [WALLET_VERIFIERS.DISCORD]: \"tkey-discord\",\n  [WALLET_VERIFIERS.EMAIL_PASSWORDLESS]: \"tkey-auth0-email-passwordless\",\n} as const;\n\nexport const PAYMENT_PROVIDER = {\n  MOONPAY: \"moonpay\",\n  WYRE: \"wyre\",\n  RAMPNETWORK: \"rampnetwork\",\n  XANPOOL: \"xanpool\",\n  MERCURYO: \"mercuryo\",\n  TRANSAK: \"transak\",\n} as const;\n\nexport const SUPPORTED_PAYMENT_NETWORK = {\n  MAINNET: \"mainnet\",\n  MATIC: \"matic\",\n  BSC_MAINNET: \"bsc_mainnet\",\n  AVALANCHE_MAINNET: \"avalanche_mainnet\",\n  XDAI: \"xdai\",\n} as const;\n\nexport const TORUS_BUILD_ENV = {\n  PRODUCTION: \"production\",\n  DEVELOPMENT: \"development\",\n  BINANCE: \"binance\",\n  TESTING: \"testing\",\n  LRC: \"lrc\",\n  BETA: \"beta\",\n} as const;\n\nexport type PAYMENT_PROVIDER_TYPE = typeof PAYMENT_PROVIDER[keyof typeof PAYMENT_PROVIDER];\n\nexport type SUPPORTED_PAYMENT_NETWORK_TYPE = typeof SUPPORTED_PAYMENT_NETWORK[keyof typeof SUPPORTED_PAYMENT_NETWORK];\n\nexport type TORUS_BUILD_ENV_TYPE = typeof TORUS_BUILD_ENV[keyof typeof TORUS_BUILD_ENV];\n\nexport interface IPaymentProvider {\n  line1: string;\n  line2: string;\n  line3: string;\n  supportPage: string;\n  minOrderValue: number;\n  maxOrderValue: number;\n  validCurrencies: string[];\n  validCryptoCurrenciesByChain: Partial<Record<string, { value: string; display: string }[]>>;\n  includeFees: boolean;\n  enforceMax: boolean;\n  sell?: boolean;\n}\n\nexport interface IHashAlgorithmOptions {\n  algorithms?: createHash.algorithm[];\n  delimiter?: string;\n  full?: boolean;\n}\n\nexport interface SRI {\n  hashes: Record<createHash.algorithm, string>;\n  integrity?: string;\n}\n\nexport const BUTTON_POSITION = {\n  BOTTOM_LEFT: \"bottom-left\",\n  TOP_LEFT: \"top-left\",\n  BOTTOM_RIGHT: \"bottom-right\",\n  TOP_RIGHT: \"top-right\",\n} as const;\n\nexport type EMBED_TRANSLATION_ITEM = {\n  continue: string;\n  actionRequired: string;\n  pendingAction: string;\n  cookiesRequired: string;\n  enableCookies: string;\n  clickHere: string;\n};\n\nexport type BUTTON_POSITION_TYPE = typeof BUTTON_POSITION[keyof typeof BUTTON_POSITION];\n\nexport type WALLET_PATH = \"transfer\" | \"topup\" | \"home\" | \"settings\" | \"history\" | \"discover\";\nexport type ETHEREUM_NETWORK_TYPE =\n  | \"ropsten\"\n  | \"rinkeby\"\n  | \"kovan\"\n  | \"mainnet\"\n  | \"goerli\"\n  | \"localhost\"\n  | \"matic\"\n  | \"mumbai\"\n  | \"xdai\"\n  | \"bsc_mainnet\"\n  | \"bsc_testnet\";\n\nexport type LOGIN_TYPE =\n  | \"google\"\n  | \"facebook\"\n  | \"reddit\"\n  | \"discord\"\n  | \"twitch\"\n  | \"apple\"\n  | \"github\"\n  | \"linkedin\"\n  | \"twitter\"\n  | \"weibo\"\n  | \"line\"\n  | \"jwt\"\n  | \"email_password\"\n  | \"passwordless\";\n\nexport interface TorusCtorArgs {\n  /**\n   * Determines where the torus widget is visible on the page.\n   * @defaultValue bottom-left\n   */\n  buttonPosition?: BUTTON_POSITION_TYPE;\n\n  /**\n   * Z-index of the modal and iframe\n   * @defaultValue 99999\n   */\n  modalZIndex?: number;\n\n  /**\n   * Api key\n   * Get yours today at {@link https://developer.tor.us | Dashboard}\n   */\n  apiKey?: string;\n}\n\nexport interface TorusLoginParams {\n  verifier?: string;\n  login_hint?: string;\n}\n\nexport interface NetworkInterface {\n  /**\n   * If any network other than the ones in enum, it should a JSON RPC URL\n   */\n  host: ETHEREUM_NETWORK_TYPE | string;\n  /**\n   * chainId for the network. If not provided, we query the host\n   */\n  chainId?: number;\n  /**\n   * Name of the network\n   */\n  networkName?: string;\n  /**\n   * Url of the block explorer\n   */\n  blockExplorer?: string;\n  /**\n   * Default currency ticker of the network (e.g: BNB)\n   */\n  ticker?: string;\n  /**\n   * Name for currency ticker (e.g: `Binance Coin`)\n   */\n  tickerName?: string;\n}\n\nexport interface BaseLoginOptions {\n  /**\n   * If you need to send custom parameters to the Authorization Server,\n   * make sure to use the original parameter name.\n   */\n  [key: string]: unknown;\n  /**\n   * - `'page'`: displays the UI with a full page view\n   * - `'popup'`: displays the UI with a popup window\n   * - `'touch'`: displays the UI in a way that leverages a touch interface\n   * - `'wap'`: displays the UI with a \"feature phone\" type interface\n   */\n  display?: \"page\" | \"popup\" | \"touch\" | \"wap\";\n  /**\n   * - `'none'`: do not prompt user for login or consent on reauthentication\n   * - `'login'`: prompt user for reauthentication\n   * - `'consent'`: prompt user for consent before processing request\n   * - `'select_account'`: prompt user to select an account\n   */\n  prompt?: \"none\" | \"login\" | \"consent\" | \"select_account\";\n  /**\n   * Maximum allowable elasped time (in seconds) since authentication.\n   * If the last time the user authenticated is greater than this value,\n   * the user must be reauthenticated.\n   */\n  max_age?: string | number;\n  /**\n   * The space-separated list of language tags, ordered by preference.\n   * For example: `'fr-CA fr en'`.\n   */\n  ui_locales?: string;\n  /**\n   * Previously issued ID Token.\n   */\n  id_token_hint?: string;\n  /**\n   * The user's email address or other identifier. When your app knows\n   * which user is trying to authenticate, you can provide this parameter\n   * to pre-fill the email box or select the right session for sign-in.\n   *\n   * This currently only affects the classic Lock experience.\n   */\n  login_hint?: string;\n  acr_values?: string;\n  /**\n   * The default scope to be used on authentication requests.\n   * The defaultScope defined in the Auth0Client is included\n   * along with this scope\n   */\n  scope?: string;\n  /**\n   * The default audience to be used for requesting API access.\n   */\n  audience?: string;\n  /**\n   * The name of the connection configured for your application.\n   * If null, it will redirect to the Auth0 Login Page and show\n   * the Login Widget.\n   */\n  connection?: string;\n}\n\nexport interface JwtParameters extends BaseLoginOptions {\n  /**\n   * Your Auth0 account domain such as `'example.auth0.com'`,\n   * `'example.eu.auth0.com'` or , `'example.mycompany.com'`\n   * (when using [custom domains](https://auth0.com/docs/custom-domains))\n   */\n  domain: string;\n  /**\n   * The Client ID found on your Application settings page\n   */\n  client_id?: string;\n  /**\n   * The default URL where Auth0 will redirect your browser to with\n   * the authentication result. It must be whitelisted in\n   * the \"Allowed Callback URLs\" field in your Auth0 Application's\n   * settings. If not provided here, it should be provided in the other\n   * methods that provide authentication.\n   */\n  redirect_uri?: string;\n  /**\n   * The value in seconds used to account for clock skew in JWT expirations.\n   * Typically, this value is no more than a minute or two at maximum.\n   * Defaults to 60s.\n   */\n  leeway?: number;\n\n  /**\n   * The field in jwt token which maps to verifier id\n   */\n  verifierIdField?: string;\n\n  /**\n   * Whether the verifier id field is case sensitive\n   * @defaultValue true\n   */\n  isVerifierIdCaseSensitive?: boolean;\n}\n\nexport interface LoginConfigItem {\n  /**\n   * Display Name. If not provided, we use the default for torus app\n   */\n  name: string;\n  /**\n   * The type of login. Refer to enum `LOGIN_TYPE`\n   */\n  typeOfLogin: LOGIN_TYPE;\n  /**\n   * Description for button. If provided, it renders as a full length button. else, icon button\n   */\n  description?: string;\n  /**\n   * Custom client_id. If not provided, we use the default for torus app\n   */\n  clientId?: string;\n  /**\n   * Logo to be shown on mouse hover. If not provided, we use the default for torus app\n   */\n  logoHover?: string;\n  /**\n   * Logo to be shown on dark background (dark theme). If not provided, we use the default for torus app\n   */\n  logoLight?: string;\n  /**\n   * Logo to be shown on light background (light theme). If not provided, we use the default for torus app\n   */\n  logoDark?: string;\n  /**\n   * Whether to show the login button on modal or not\n   */\n  showOnModal?: boolean;\n  /**\n   * Whether to show the login button on mobile\n   */\n  showOnMobile?: boolean;\n  /**\n   * Custom jwt parameters to configure the login. Useful for Auth0 configuration\n   */\n  jwtParameters?: JwtParameters;\n  /**\n   * Show login button on the main list\n   */\n  mainOption?: boolean;\n  /**\n   * Whether to show the login button on desktop\n   */\n  showOnDesktop?: boolean;\n  /**\n   * Modify the order of buttons. Should be greater than zero, where 1 is top priority.\n   */\n  priority?: number;\n}\n\nexport interface LoginConfig {\n  /**\n   * Use the verifier provided by torus as a key or a default verifier used by torus\n   * {@link https://docs.tor.us/torus-wallet/developing-with-torus-wallet/oauth | Documentation}\n   */\n  [verifier: string]: LoginConfigItem;\n}\n\nexport interface TorusNodePub {\n  /**\n   * X component of a Public Key\n   */\n  X: string;\n  /**\n   * Y component of a Public Key\n   */\n  Y: string;\n}\n\nexport interface TorusPublicKey extends TorusNodePub {\n  /**\n   * Ethereum Public Address\n   */\n  address: string;\n}\n\nexport interface PaymentParams {\n  /**\n   * Address to send the funds to\n   */\n  selectedAddress?: string;\n  /**\n   * Default fiat currency for the user to make the payment in\n   */\n  selectedCurrency?: string;\n  /**\n   * Amount to buy in the selectedCurrency\n   */\n  fiatValue?: number;\n  /**\n   * Cryptocurrency to buy\n   */\n  selectedCryptoCurrency?: string;\n  /**\n   * Chain Network to use\n   */\n  chainNetwork?: SUPPORTED_PAYMENT_NETWORK_TYPE;\n}\n\nexport interface VerifierArgs {\n  /**\n   * Verifier Enum\n   */\n  verifier: \"google\" | \"reddit\" | \"discord\";\n  /**\n   * email for google\n   *\n   * username for reddit\n   *\n   * id for discord\n   */\n  verifierId: string;\n  /**\n   * If true, returns {@link TorusPublicKey}, else returns string\n   */\n  isExtended?: boolean;\n}\n\nexport interface LoginParams {\n  verifier?: string;\n  login_hint?: string;\n}\n\nexport interface UserInfo {\n  /**\n   * Email of the logged in user\n   */\n  email: string;\n  /**\n   * Full name of the logged in user\n   */\n  name: string;\n  /**\n   * Profile image of the logged in user\n   */\n  profileImage: string;\n  /**\n   * verifier of the logged in user (google, facebook etc)\n   */\n  verifier: string;\n  /**\n   * Verifier Id of the logged in user\n   *\n   * email for google,\n   * id for facebook,\n   * username for reddit,\n   * id for twitch,\n   * id for discord\n   */\n  verifierId: string;\n  /**\n   * Returns if the logged in user is new\n   */\n  isNewUser: boolean;\n\n  /**\n   * login type of the logged in user (google, facebook etc)\n   */\n  typeOfLogin: LOGIN_TYPE;\n}\n\nexport interface LocaleLinks<T> {\n  /**\n   * Item corresponding to english\n   */\n  en?: T;\n  /**\n   * Item corresponding to japanese\n   */\n  ja?: T;\n  /**\n   * Item corresponding to korean\n   */\n  ko?: T;\n  /**\n   * Item corresponding to german\n   */\n  de?: T;\n  /**\n   * Item corresponding to chinese (simplified)\n   */\n  zh?: T;\n  /**\n   * Item corresponding to spanish\n   */\n  es?: T;\n}\n\nexport interface ThemeParams {\n  /**\n   * If true, enables dark mode\n   * Defaults to false\n   * @defaultValue false\n   */\n  isDark: boolean;\n  /**\n   * Colors object to customize colors in torus theme.\n   *\n   * Contact us for whitelabel. Example provided in `examples/vue-app`\n   */\n  colors: Record<string, string>;\n}\n\nexport interface IntegrityParams {\n  /**\n   * Whether to check for integrity.\n   * Defaults to false\n   * @defaultValue false\n   */\n  check: boolean;\n  /**\n   * if check is true, hash must be provided. The SRI sha-384 integrity hash\n   * {@link https://www.srihash.org/ | SRI Hash}\n   */\n  hash?: string;\n  /**\n   * Version of torus-website to load\n   */\n  version?: string;\n}\n\nexport interface VerifierStatus {\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  google?: boolean;\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  facebook?: boolean;\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  reddit?: boolean;\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  twitch?: boolean;\n  /**\n   * Defaults to true\n   * @defaultValue true\n   */\n  discord?: boolean;\n}\n\nexport interface WhiteLabelParams {\n  /**\n   * Whitelabel theme\n   */\n  theme: ThemeParams;\n  /**\n   * Language of whitelabel.\n   *\n   * order of preference: Whitelabel language \\> user language (in torus-website) \\> browser language\n   */\n  defaultLanguage?: string;\n  /**\n   * Logo Url to be used in light mode (dark logo)\n   */\n  logoDark: string;\n  /**\n   * Logo Url to be used in dark mode (light logo)\n   */\n  logoLight: string;\n  /**\n   * Shows/hides topup option in torus-website/widget.\n   * Defaults to false\n   * @defaultValue false\n   */\n  topupHide?: boolean;\n  /**\n   * Shows/hides billboard in torus-website.\n   * Defaults to false\n   * @defaultValue false\n   */\n  featuredBillboardHide?: boolean;\n  /**\n   * Shows/hides disclaimers on login page. Only works if special logins are hidden\n   * Defaults to false\n   * @defaultValue false\n   */\n  disclaimerHide?: boolean;\n  /**\n   * Language specific link for terms and conditions on torus-website. See (examples/vue-app) to configure\n   */\n  tncLink?: LocaleLinks<string>;\n  /**\n   * Language specific link for privacy policy on torus-website. See (examples/vue-app) to configure\n   */\n  privacyPolicy?: LocaleLinks<string>;\n  /**\n   * Language specific link for privacy policy on torus-website. See (examples/vue-app) to configure\n   */\n  contactLink?: LocaleLinks<string>;\n  /**\n   * Custom translations. See (examples/vue-app) to configure\n   */\n  customTranslations?: LocaleLinks<unknown>;\n}\n\nexport interface TorusParams {\n  /**\n   * Torus Network Object\n   */\n  network?: NetworkInterface;\n  /**\n   * Build Environment of Torus.\n   *\n   * production uses https://app.tor.us,\n   *\n   * development uses http://localhost:4050 (expects torus-website to be run locally),\n   *\n   * binance uses https://binance.tor.us,\n   *\n   * lrc uses https://lrc.tor.us,\n   *\n   * beta uses https://beta.tor.us, (currently supports tkey)\n   *\n   * testing uses https://testing.tor.us (latest internal build)\n   * @defaultValue production\n   */\n  buildEnv?: TORUS_BUILD_ENV_TYPE;\n  /**\n   * Enables or disables logging.\n   *\n   * Defaults to false in prod and true in other environments\n   */\n  enableLogging?: boolean;\n  /**\n   * whether to show/hide torus widget.\n   *\n   * Defaults to true\n   * @defaultValue true\n   */\n  showTorusButton?: boolean;\n  /**\n   * setting false, hides those verifiers from login modal\n   * @deprecated\n   * Please use loginConfig instead\n   */\n  enabledVerifiers?: VerifierStatus;\n  /**\n   * Array of login config items. Used to modify the default logins/ add new logins\n   */\n  loginConfig?: LoginConfig;\n  /**\n   * Params to enable integrity checks and load specific versions of torus-website\n   */\n  integrity?: IntegrityParams;\n  /**\n   * Params to enable whitelabelling of torus website and widget\n   */\n  whiteLabel?: WhiteLabelParams;\n  /**\n   * Skips TKey onboarding for new users\n   *\n   * Defaults to false\n   * @defaultValue false\n   */\n  skipTKey?: boolean;\n  /**\n   * Prefers to use localStorage instead of sessionStorage for torus iframe. Allows longer lived sessions\n   *\n   * Defaults to false\n   * @defaultValue false\n   */\n  useLocalStorage?: boolean;\n\n  /**\n   * Setting `useWalletConnect` to true allows to display wallet connect qr scanner from torus-embed.\n   *\n   * Defaults to false\n   * @defaultValue false\n   */\n  useWalletConnect?: boolean;\n}\n\nexport interface UnvalidatedJsonRpcRequest {\n  id?: JRPCId;\n  jsonrpc?: JRPCVersion;\n  method: string;\n  params?: unknown;\n  preopenInstanceId?: string;\n}\n\nexport interface ProviderOptions {\n  /**\n   * The name of the stream used to connect to the wallet.\n   */\n  jsonRpcStreamName?: string;\n\n  /**\n   * The maximum number of event listeners.\n   */\n  maxEventListeners?: number;\n  /**\n   * Whether the provider should send page metadata.\n   */\n  shouldSendMetadata?: boolean;\n}\n\nexport interface RequestArguments {\n  /** The RPC method to request. */\n  method: string;\n\n  /** The params of the RPC method, if any. */\n  params?: unknown[] | Record<string, unknown>;\n}\n\nexport interface BaseProviderState {\n  accounts: null | string[];\n  isConnected: boolean;\n  isUnlocked: boolean;\n  initialized: boolean;\n  isPermanentlyDisconnected: boolean;\n  hasEmittedConnection: boolean;\n}\n\nexport interface JsonRpcConnection {\n  events: SafeEventEmitter;\n  middleware: JRPCMiddleware<unknown, unknown>;\n  stream: Duplex;\n}\n\nexport interface SentWarningsState {\n  // methods\n  enable: boolean;\n  experimentalMethods: boolean;\n  send: boolean;\n  publicConfigStore: boolean;\n  // events\n  events: {\n    close: boolean;\n    data: boolean;\n    networkChanged: boolean;\n    notification: boolean;\n  };\n}\n\nexport interface SendSyncJsonRpcRequest extends JRPCRequest<unknown> {\n  method: \"eth_accounts\" | \"eth_coinbase\" | \"eth_uninstallFilter\" | \"net_version\";\n}\n\nexport interface PublicConfigState {\n  isUnlocked?: boolean;\n  selectedAddress?: string;\n  chainId?: string;\n  networkVersion?: string;\n  storageKey: string;\n}\n\nexport type Maybe<T> = Partial<T> | null | undefined;\n\nexport type BufferEncoding = \"ascii\" | \"utf8\" | \"utf-8\" | \"utf16le\" | \"ucs2\" | \"ucs-2\" | \"base64\" | \"base64url\" | \"latin1\" | \"binary\" | \"hex\";\n\nexport type IObjectMultiplex = Duplex;\n\nexport type WalletProviderState = {\n  accounts: string[];\n  chainId: string;\n  isUnlocked: boolean;\n  networkVersion: string;\n};\n","import { PAYMENT_PROVIDER } from \"./interfaces\";\n/**\n * From https://min-api.cryptocompare.com/data/v2/pair/mapping/fsym?fsym=BTC&extraParams=YourSite\n * GET https://min-api.cryptocompare.com/data/v2/pair/mapping/fsym?fsym=BTC\n * Then map over returned entries, picking tsym\n *\n * Last updated: Date of commit\n */\nexport const CRYPTO_COMPARE_CURRENCIES = [\n  \"ETH\",\n  \"USDT\",\n  \"USDC\",\n  \"TUSD\",\n  \"EOSDT\",\n  \"USD\",\n  \"DAI\",\n  \"GUSD\",\n  \"DKKT\",\n  \"PAX\",\n  \"ILS\",\n  \"RUB\",\n  \"BYN\",\n  \"EUR\",\n  \"GBP\",\n  \"JPY\",\n  \"KRW\",\n  \"PLN\",\n  \"MXN\",\n  \"AUD\",\n  \"BRL\",\n  \"CAD\",\n  \"CHF\",\n  \"KPW\",\n  \"LAK\",\n  \"LBP\",\n  \"LKR\",\n  \"XOF\",\n  \"CNHT\",\n  \"DOGE\",\n  \"UAH\",\n  \"TRY\",\n  \"HKD\",\n  \"XJP\",\n  \"SGD\",\n  \"USC\",\n  \"NZD\",\n  \"NGN\",\n  \"RUR\",\n  \"COP\",\n  \"GHS\",\n  \"EGP\",\n  \"IDR\",\n  \"BHD\",\n  \"CRC\",\n  \"PEN\",\n  \"AED\",\n  \"DOP\",\n  \"PKR\",\n  \"HUF\",\n  \"VND\",\n  \"XAR\",\n  \"LTC\",\n  \"RON\",\n  \"OMR\",\n  \"MYR\",\n  \"DKK\",\n  \"UGX\",\n  \"ZMW\",\n  \"SAR\",\n  \"SEK\",\n  \"GEL\",\n  \"RWF\",\n  \"IRR\",\n  \"TZS\",\n  \"CNY\",\n  \"VEF\",\n  \"BDT\",\n  \"HRK\",\n  \"CLP\",\n  \"THB\",\n  \"XAF\",\n  \"ARS\",\n  \"UYU\",\n  \"SZL\",\n  \"KZT\",\n  \"NOK\",\n  \"KES\",\n  \"PAB\",\n  \"INR\",\n  \"CZK\",\n  \"MAD\",\n  \"TWD\",\n  \"PHP\",\n  \"ZAR\",\n  \"BOB\",\n  \"CDF\",\n  \"DASH\",\n  \"VES\",\n  \"ISK\",\n  \"MWK\",\n  \"BAM\",\n  \"TTD\",\n  \"XRP\",\n  \"JOD\",\n  \"RSD\",\n  \"HNL\",\n  \"BGN\",\n  \"GTQ\",\n  \"BWP\",\n  \"XMR\",\n  \"MMK\",\n  \"QAR\",\n  \"AOA\",\n  \"KWD\",\n  \"MUR\",\n  \"WUSD\",\n  \"WEUR\",\n  \"WAVES\",\n  \"WTRY\",\n  \"LRD\",\n  \"LSL\",\n  \"LYD\",\n  \"AWG\",\n  \"MDL\",\n  \"BTO\",\n  \"EURS\",\n  \"CHFT\",\n  \"MKD\",\n  \"MNT\",\n  \"MOP\",\n  \"MRO\",\n  \"MVR\",\n  \"VOLLAR\",\n  \"CKUSD\",\n  \"KHR\",\n  \"VUV\",\n  \"BITCNY\",\n  \"QC\",\n  \"BBD\",\n  \"NAD\",\n  \"NPR\",\n  \"PGK\",\n  \"PYG\",\n  \"BIF\",\n  \"BMD\",\n  \"BND\",\n  \"XLM\",\n  \"BNB\",\n  \"SCR\",\n  \"BAT\",\n  \"CRO\",\n  \"HT\",\n  \"KCS\",\n  \"LEO\",\n  \"LINK\",\n  \"MKR\",\n  \"NPXS\",\n  \"OMG\",\n  \"REP\",\n  \"ZB\",\n  \"ZIL\",\n  \"ZRX\",\n  \"BCH\",\n  \"BZD\",\n  \"CUP\",\n  \"CVE\",\n  \"DJF\",\n  \"DZD\",\n  \"ERN\",\n  \"ETB\",\n  \"FJD\",\n  \"FKP\",\n  \"BUSD\",\n  \"ANCT\",\n  \"ALL\",\n  \"AMD\",\n  \"ANG\",\n  \"CNYX\",\n  \"IQD\",\n  \"UZS\",\n  \"TND\",\n  \"GGP\",\n  \"XAU\",\n  \"KGS\",\n  \"GIP\",\n  \"JMD\",\n  \"ZEC\",\n  \"USDP\",\n  \"BSV\",\n  \"EMC2\",\n  \"SNT\",\n  \"GTO\",\n  \"POWR\",\n  \"EUSD\",\n  \"EURT\",\n  \"BCY\",\n  \"BTS\",\n  \"ATM\",\n  \"BLOCKPAY\",\n  \"ARDR\",\n  \"AMP\",\n  \"B2X\",\n  \"BITGOLD\",\n  \"BITEUR\",\n  \"ATB\",\n  \"BITUSD\",\n  \"AGRS\",\n  \"DFXT\",\n  \"HIKEN\",\n  \"BIX\",\n  \"KNC\",\n  \"EOS\",\n  \"COB\",\n  \"COSS\",\n  \"BMH\",\n  \"NANO\",\n  \"BDG\",\n  \"BNT\",\n  \"XVG\",\n  \"LKK1Y\",\n  \"LKK\",\n  \"USDK\",\n  \"EURN\",\n  \"NZDT\",\n  \"JSE\",\n  \"GMD\",\n  \"GNF\",\n  \"GYD\",\n  \"YER\",\n  \"XPF\",\n  \"HTG\",\n  \"SLL\",\n  \"SOS\",\n  \"WST\",\n  \"SVC\",\n  \"SYP\",\n  \"NEO\",\n  \"KMF\",\n  \"JUMP\",\n  \"AYA\",\n  \"BLAST\",\n  \"WGR\",\n  \"BCN\",\n  \"BTG\",\n  \"URALS\",\n  \"INN\",\n  \"USDQ\",\n  \"CNH\",\n  \"HUSD\",\n  \"BKRW\",\n  \"NZDX\",\n  \"EURX\",\n  \"CADX\",\n  \"USDEX\",\n  \"JPYX\",\n  \"AUDX\",\n  \"VNDC\",\n  \"EON\",\n  \"GBPX\",\n  \"CHFX\",\n  \"USDJ\",\n  \"IDRT\",\n  \"USDS\",\n  \"USDN\",\n  \"BIDR\",\n  \"IDK\",\n  \"BSD\",\n  \"BTN\",\n  \"KYD\",\n  \"NIO\",\n  \"SBD\",\n  \"SDG\",\n  \"SHP\",\n  \"TOP\",\n  \"XCD\",\n  \"XCHF\",\n  \"CNYT\",\n  \"GYEN\",\n  \"ZUSD\",\n  \"GOLD\",\n  \"TRX\",\n  \"TRYB\",\n  \"PLATC\",\n  \"STRAX\",\n  \"UST\",\n  \"GLM\",\n  \"VAI\",\n  \"BRZ\",\n  \"DDRST\",\n  \"XAUT\",\n  \"MIM\",\n];\n\n/**\n * currencies supported by the payment provider\n * Last updated: Date of commit\n */\nconst PROVIDER_SUPPORTED_FIAT_CURRENCIES = {\n  // https://integrations.simplex.com/supported_currencies\n  // https://support.moonpay.com/hc/en-gb/articles/360011931457-Which-fiat-currencies-are-supported-\n  [PAYMENT_PROVIDER.MOONPAY]: [\n    \"AUD\",\n    \"BGN\",\n    \"BRL\",\n    \"CAD\",\n    \"CHF\",\n    \"CNY\",\n    \"COP\",\n    \"CZK\",\n    \"DKK\",\n    \"DOP\",\n    \"EGP\",\n    \"EUR\",\n    \"GBP\",\n    \"HKD\",\n    \"HRK\",\n    \"IDR\",\n    \"ILS\",\n    \"JPY\",\n    \"JOD\",\n    \"KES\",\n    \"KRW\",\n    \"KWD\",\n    \"LKR\",\n    \"MAD\",\n    \"MXN\",\n    \"MYR\",\n    \"NGN\",\n    \"NOK\",\n    \"NZD\",\n    \"OMR\",\n    \"PEN\",\n    \"PKR\",\n    \"PLN\",\n    \"RON\",\n    \"RUB\",\n    \"SEK\",\n    \"SGD\",\n    \"THB\",\n    \"TRY\",\n    \"TWD\",\n    \"USD\",\n    \"VND\",\n    \"ZAR\",\n  ],\n  /**\n   * https://docs.sendwyre.com/docs/supported-currencies#fiat\n   * The ones where credit card is supported\n   */\n  [PAYMENT_PROVIDER.WYRE]: [\n    \"USD\",\n    \"EUR\",\n    \"GBP\",\n    \"AUD\",\n    \"CAD\",\n    \"NZD\",\n    \"ARS\",\n    \"BRL\",\n    \"CHF\",\n    \"CLP\",\n    \"COP\",\n    \"CZK\",\n    \"DKK\",\n    \"HKD\",\n    \"ILS\",\n    \"INR\",\n    \"ISK\",\n    \"JPY\",\n    \"KRW\",\n    \"MXN\",\n    \"MYR\",\n    \"NOK\",\n    \"PHP\",\n    \"PLN\",\n    \"SEK\",\n    \"THB\",\n    \"VND\",\n    \"ZAR\",\n  ],\n  // https://support.ramp.network/en/articles/471-why-am-i-paying-in-usd-eur-gbp\n  [PAYMENT_PROVIDER.RAMPNETWORK]: [\"USD\", \"EUR\", \"GBP\"],\n  // From https://xanpool.com/ fiat select dropdown\n  [PAYMENT_PROVIDER.XANPOOL]: [\"SGD\", \"HKD\", \"THB\", \"PHP\", \"INR\", \"IDR\", \"MYR\", \"AUD\", \"NZD\", \"KRW\"],\n  // https://support.aax.com/en/articles/5295762-mercuryo\n  // RUB / UAH currently not supported\n  [PAYMENT_PROVIDER.MERCURYO]: [\"EUR\", \"USD\", \"GBP\", \"TRY\", \"JPY\", \"BRL\", \"NGN\", \"VND\", \"MXN\", \"KRW\"],\n  /**\n   * https://support.transak.com/hc/en-us/articles/360020615578-Credit-and-Debit-Card-Payments-through-Transak\n   * or\n   * https://transak.stoplight.io/docs/transak-docs/b3A6OTk1ODQ0-2-get-fiat-currencies\n   */\n  [PAYMENT_PROVIDER.TRANSAK]: [\n    \"ARS\",\n    \"AUD\",\n    \"BBD\",\n    \"BGN\",\n    \"BMD\",\n    \"BRL\",\n    \"CAD\",\n    \"CHF\",\n    \"CLP\",\n    \"CRC\",\n    \"CZK\",\n    \"DKK\",\n    \"DOP\",\n    \"EUR\",\n    \"FJD\",\n    \"FKP\",\n    \"GBP\",\n    \"GIP\",\n    \"HRK\",\n    \"HUF\",\n    \"IDR\",\n    \"ILS\",\n    \"ISK\",\n    \"JMD\",\n    \"JPY\",\n    \"KES\",\n    \"KRW\",\n    \"MDL\",\n    \"MXN\",\n    \"MYR\",\n    \"NOK\",\n    \"NZD\",\n    \"PEN\",\n    \"PHP\",\n    \"PLN\",\n    \"PYG\",\n    \"RON\",\n    \"SEK\",\n    \"SGD\",\n    \"THB\",\n    \"TRY\",\n    \"TZS\",\n    \"USD\",\n    \"ZAR\",\n  ],\n};\n\nconst cryptoCompareCurrenciesSet = new Set(CRYPTO_COMPARE_CURRENCIES);\n/**\n * Fiat currencies that we support\n */\nexport function supportedFiatCurrencies(provider) {\n  const providerSupportedFiatCurrencies = PROVIDER_SUPPORTED_FIAT_CURRENCIES[provider];\n  return providerSupportedFiatCurrencies.filter((currency) => cryptoCompareCurrenciesSet.has(currency));\n}\n","import { EMBED_TRANSLATION_ITEM, IPaymentProvider, LocaleLinks, PAYMENT_PROVIDER, SUPPORTED_PAYMENT_NETWORK, WALLET_VERIFIERS } from \"./interfaces\";\nimport { supportedFiatCurrencies } from \"./supportedCurrencies\";\n\nconst paymentProviders = {\n  [PAYMENT_PROVIDER.MOONPAY]: {\n    line1: \"Credit/ Debit Card/ Apple Pay\",\n    line2: \"4.5% or 5 USD\",\n    line3: \"2,000€/day, 10,000€/mo\",\n    supportPage: \"https://help.moonpay.io/en/\",\n    minOrderValue: 24.99,\n    maxOrderValue: 50_000,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.MOONPAY),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"aave\", display: \"AAVE\" },\n        { value: \"bat\", display: \"BAT\" },\n        { value: \"dai\", display: \"DAI\" },\n        { value: \"eth\", display: \"ETH\" },\n        { value: \"mkr\", display: \"MKR\" },\n        { value: \"matic\", display: \"MATIC\" },\n        { value: \"usdt\", display: \"USDT\" },\n        { value: \"usdc\", display: \"USDC\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n        { value: \"eth_polygon\", display: \"ETH\" },\n        { value: \"matic_polygon\", display: \"MATIC\" },\n        { value: \"usdc_polygon\", display: \"USDC\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n        { value: \"bnb_bsc\", display: \"BNB\" },\n        { value: \"busd_bsc\", display: \"BUSD\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [{ value: \"avax_cchain\", display: \"AVAX\" }],\n    },\n    includeFees: true,\n    api: true,\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.WYRE]: {\n    line1: \"Apple Pay/ Debit/ Credit Card\",\n    line2: \"4.9% + 30¢ or 5 USD\",\n    line3: \"$250/day\",\n    supportPage: \"https://support.sendwyre.com/en/\",\n    minOrderValue: 5,\n    maxOrderValue: 500,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.WYRE),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"AAVE\", display: \"AAVE\" },\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"BUSD\", display: \"BUSD\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"MKR\", display: \"MKR\" },\n        { value: \"UNI\", display: \"UNI\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [{ value: \"MUSDC\", display: \"USDC\" }],\n      // AVAXC? or AVAX?\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [{ value: \"AVAXC\", display: \"AVAXC\" }],\n    },\n    includeFees: false,\n    api: true,\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.RAMPNETWORK]: {\n    line1: \"Debit Card/ <br>Apple Pay/ Bank transfer\",\n    line2: \"0.49% - 2.9%\",\n    line3: \"5,000€/purchase, 20,000€/mo\",\n    supportPage: \"https://instant.ramp.network/\",\n    minOrderValue: 50,\n    maxOrderValue: 20_000,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.RAMPNETWORK),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n        { value: \"MATIC_DAI\", display: \"DAI\" },\n        { value: \"MATIC_MATIC\", display: \"MATIC\" },\n        { value: \"MATIC_USDC\", display: \"USDC\" },\n      ],\n      // what about AVAXC?\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [{ value: \"AVAX\", display: \"AVAX\" }],\n      // Temporary unavailable\n      // [SUPPORTED_PAYMENT_NETWORK.XDAI]: [{ value: 'XDAI_XDAI', display: 'XDAI' }],\n    },\n    includeFees: true,\n    api: true,\n    receiveHint: \"walletTopUp.receiveHintRamp\",\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.XANPOOL]: {\n    line1: \"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow\",\n    line2: \"2.5% buying, 3% selling\",\n    line3: \"$2,500 / day\",\n    supportPage: \"mailto:support@xanpool.com\",\n    minOrderValue: 100,\n    maxOrderValue: 2500,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.XANPOOL),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"USDT\", display: \"USDT\" },\n      ],\n    },\n    includeFees: true,\n    api: true,\n    sell: true,\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.MERCURYO]: {\n    line1: \"Credit/ Debit Card/ Apple Pay\",\n    line2: \"3.95% or 4 USD\",\n    line3: \"10,000€/day, 25,000€/mo\",\n    supportPage: \"mailto:support@mercuryo.io\",\n    minOrderValue: 30,\n    maxOrderValue: 5000,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.MERCURYO),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"BAT\", display: \"BAT\" },\n        { value: \"USDT\", display: \"USDT\" },\n        { value: \"DAI\", display: \"DAI\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n        { value: \"BNB\", display: \"BNB\" },\n        { value: \"BUSD\", display: \"BUSD\" },\n        { value: \"1INCH\", display: \"1INCH\" },\n      ],\n    },\n    includeFees: true,\n    api: true,\n    enforceMax: false,\n  } as IPaymentProvider,\n  [PAYMENT_PROVIDER.TRANSAK]: {\n    line1: \"Credit/ Debit Card/ <br/>Bank Transfer (sepa/gbp)\",\n    line2: \"0.99% - 5.5% or 5 USD\",\n    line3: \"500€/day\",\n    supportPage: \"https://support.transak.com/hc/en-US\",\n    minOrderValue: 30,\n    maxOrderValue: 500,\n    validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.TRANSAK),\n    validCryptoCurrenciesByChain: {\n      [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n        { value: \"AAVE\", display: \"AAVE\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"ETH\", display: \"ETH\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"USDT\", display: \"USDT\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n        { value: \"AAVE\", display: \"AAVE\" },\n        { value: \"DAI\", display: \"DAI\" },\n        { value: \"MATIC\", display: \"MATIC\" },\n        { value: \"USDC\", display: \"USDC\" },\n        { value: \"USDT\", display: \"USDT\" },\n        { value: \"WETH\", display: \"WETH\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n        { value: \"BNB\", display: \"BNB\" },\n        { value: \"BUSD\", display: \"BUSD\" },\n      ],\n      [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [{ value: \"AVAX\", display: \"AVAX\" }],\n    },\n    includeFees: true,\n    enforceMax: true,\n  } as IPaymentProvider,\n};\n\nconst translations = {\n  en: {\n    embed: {\n      continue: \"Continue\",\n      actionRequired: \"Authorization required\",\n      pendingAction: \"Click continue to proceed with your request in a popup\",\n      cookiesRequired: \"Cookies Required\",\n      enableCookies: \"Please enable cookies in your browser preferences to access Torus\",\n      clickHere: \"More Info\",\n    },\n  },\n  de: {\n    embed: {\n      continue: \"Fortsetzen\",\n      actionRequired: \"Autorisierung erforderlich\",\n      pendingAction: \"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren\",\n      cookiesRequired: \"Cookies benötigt\",\n      enableCookies: \"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen\",\n      clickHere: \"Mehr Info\",\n    },\n  },\n  ja: {\n    embed: {\n      continue: \"継続する\",\n      actionRequired: \"認証が必要です\",\n      pendingAction: \"続行をクリックして、ポップアップでリクエストを続行します\",\n      cookiesRequired: \"必要なクッキー\",\n      enableCookies: \"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。\",\n      clickHere: \"詳しくは\",\n    },\n  },\n  ko: {\n    embed: {\n      continue: \"계속하다\",\n      actionRequired: \"승인 필요\",\n      pendingAction: \"팝업에서 요청을 진행하려면 계속을 클릭하십시오.\",\n      cookiesRequired: \"쿠키 필요\",\n      enableCookies: \"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.\",\n      clickHere: \"더 많은 정보\",\n    },\n  },\n  zh: {\n    embed: {\n      continue: \"继续\",\n      actionRequired: \"需要授权\",\n      pendingAction: \"单击继续以在弹出窗口中继续您的请求\",\n      cookiesRequired: \"必填Cookie\",\n      enableCookies: \"请在您的浏览器首选项中启用cookie以访问Torus。\",\n      clickHere: \"更多信息\",\n    },\n  },\n} as LocaleLinks<{ embed: EMBED_TRANSLATION_ITEM }>;\n\nexport default {\n  supportedVerifierList: Object.values(WALLET_VERIFIERS),\n  paymentProviders,\n  api: \"https://api.tor.us\",\n  translations,\n  prodTorusUrl: \"\",\n  localStorageKeyPrefix: `torus-`,\n};\n","import { Stream } from \"pump\";\n\nexport const runOnLoad = (fn: () => void): Promise<unknown> =>\n  new Promise((resolve, reject) => {\n    if (window.document.body != null) {\n      Promise.resolve(fn()).then(resolve).catch(reject);\n    } else {\n      window.document.addEventListener(\"DOMContentLoaded\", () => {\n        Promise.resolve(fn()).then(resolve).catch(reject);\n      });\n    }\n  });\n\nexport const runOnComplete = (fn: () => void): void => {\n  const retry = window.setInterval(() => {\n    if (window.document.readyState === \"complete\") {\n      window.clearInterval(retry);\n      fn();\n    }\n  }, 300);\n};\n\nexport const htmlToElement = <T extends Element>(html: string): T => {\n  const template = window.document.createElement(\"template\");\n  const trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n  template.innerHTML = trimmedHtml;\n  return template.content.firstChild as T;\n};\n\nexport const handleEvent = (handle: EventTarget, eventName: string, handler: (...args: unknown[]) => void, ...handlerArgs: unknown[]): void => {\n  const handlerWrapper = () => {\n    handler(...handlerArgs);\n    handle.removeEventListener(eventName, handlerWrapper);\n  };\n  handle.addEventListener(eventName, handlerWrapper);\n};\n\nexport const handleStream = (handle: Stream, eventName: string, handler: (chunk: unknown) => void): void => {\n  const handlerWrapper = (chunk: unknown) => {\n    handler(chunk);\n    handle.removeListener(eventName, handlerWrapper);\n  };\n  handle.on(eventName, handlerWrapper);\n};\n\nexport async function documentReady(): Promise<void> {\n  return new Promise<void>((resolve) => {\n    if (document.readyState !== \"loading\") {\n      resolve();\n    } else {\n      handleEvent(document, \"DOMContentLoaded\", resolve);\n    }\n  });\n}\n","import loglevel from \"loglevel\";\n\nexport default loglevel.getLogger(\"torus-embed\");\n","export default {\n  errors: {\n    disconnected: (): string => \"Torus: Lost connection to Torus.\",\n    permanentlyDisconnected: (): string => \"Torus: Disconnected from iframe. Page reload required.\",\n    sendSiteMetadata: (): string => \"Torus: Failed to send site metadata. This is an internal error, please report this bug.\",\n    unsupportedSync: (method: string): string =>\n      `Torus: The Torus Ethereum provider does not support synchronous methods like ${method} without a callback parameter.`,\n    invalidDuplexStream: (): string => \"Must provide a Node.js-style duplex stream.\",\n    invalidOptions: (maxEventListeners: number, shouldSendMetadata: boolean): string =>\n      `Invalid options. Received: { maxEventListeners: ${maxEventListeners}, shouldSendMetadata: ${shouldSendMetadata} }`,\n    invalidRequestArgs: (): string => `Expected a single, non-array, object argument.`,\n    invalidRequestMethod: (): string => `'args.method' must be a non-empty string.`,\n    invalidRequestParams: (): string => `'args.params' must be an object or array if provided.`,\n    invalidLoggerObject: (): string => `'args.logger' must be an object if provided.`,\n    invalidLoggerMethod: (method: string): string => `'args.logger' must include required method '${method}'.`,\n  },\n  info: {\n    connected: (chainId: string): string => `Torus: Connected to chain with ID \"${chainId}\".`,\n  },\n  warnings: {\n    // deprecated methods\n    enableDeprecation:\n      'Torus: \"\"ethereum.enable()\" is deprecated and may be removed in the future. ' +\n      'Please use \"ethereum.send(\"eth_requestAccounts\")\" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',\n    sendDeprecation:\n      'Torus: \"ethereum.send(...)\" is deprecated and may be removed in the future.' +\n      ' Please use \"ethereum.sendAsync(...)\" or \"ethereum.request(...)\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',\n    events: {\n      close:\n        'Torus: The event \"close\" is deprecated and may be removed in the future. Please use \"disconnect\" instead.' +\n        \"\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193\",\n      data:\n        'Torus: The event \"data\" is deprecated and will be removed in the future.' +\n        'Use \"message\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',\n      networkChanged:\n        'Torus: The event \"networkChanged\" is deprecated and may be removed in the future.' +\n        ' Please use \"chainChanged\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',\n      notification:\n        'Torus: The event \"notification\" is deprecated and may be removed in the future. ' +\n        'Please use \"message\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',\n    },\n    publicConfigStore: 'Torus: The property \"publicConfigStore\" is deprecated and WILL be removed in the future.',\n  },\n};\n","import { get } from \"@toruslabs/http-helpers\";\nimport { JRPCMiddleware, PendingJRPCResponse, SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport { ethErrors } from \"eth-rpc-errors\";\nimport { LogLevelDesc } from \"loglevel\";\n\nimport config from \"./config\";\nimport { IntegrityParams, PAYMENT_PROVIDER, PAYMENT_PROVIDER_TYPE, PaymentParams } from \"./interfaces\";\nimport log from \"./loglevel\";\n\nconst { paymentProviders } = config;\n\ntype PaymentErrorParams = {\n  fiatValue?: string;\n  selectedCurrency?: string;\n  selectedCryptoCurrency?: string;\n};\n\ntype PaymentErrors = { provider?: string } & PaymentErrorParams;\n\nexport const validatePaymentProvider = (provider: string, params: PaymentParams): { errors: PaymentErrors; isValid: boolean } => {\n  const errors: PaymentErrors = {};\n\n  if (!provider) {\n    return { errors, isValid: true };\n  }\n\n  if (provider && !paymentProviders[provider]) {\n    errors.provider = \"Invalid Provider\";\n    return { errors, isValid: Object.keys(errors).length === 0 };\n  }\n\n  const selectedProvider = paymentProviders[provider as PAYMENT_PROVIDER_TYPE];\n  const selectedParams = params || {};\n\n  // set default values\n  // if (!selectedParams.selectedCurrency) [selectedParams.selectedCurrency] = selectedProvider.validCurrencies\n  // if (!selectedParams.fiatValue) selectedParams.fiatValue = selectedProvider.minOrderValue\n  // if (!selectedParams.selectedCryptoCurrency) [selectedParams.selectedCryptoCurrency] = selectedProvider.validCryptoCurrencies\n\n  // validations\n  if (selectedParams.fiatValue) {\n    const requestedOrderAmount = +parseFloat(selectedParams.fiatValue.toString()) || 0;\n    if (requestedOrderAmount < selectedProvider.minOrderValue) errors.fiatValue = \"Requested amount is lower than supported\";\n    if (requestedOrderAmount > selectedProvider.maxOrderValue && selectedProvider.enforceMax)\n      errors.fiatValue = \"Requested amount is higher than supported\";\n  }\n  if (selectedParams.selectedCurrency && !selectedProvider.validCurrencies.includes(selectedParams.selectedCurrency)) {\n    errors.selectedCurrency = \"Unsupported currency\";\n  }\n  if (selectedParams.selectedCryptoCurrency) {\n    const validCryptoCurrenciesByChain = Object.values(selectedProvider.validCryptoCurrenciesByChain)\n      .flat()\n      .map((currency) => currency.value);\n\n    const finalCryptoCurrency =\n      provider === PAYMENT_PROVIDER.MOONPAY ? selectedParams.selectedCryptoCurrency.toLowerCase() : selectedParams.selectedCryptoCurrency;\n\n    if (validCryptoCurrenciesByChain && !validCryptoCurrenciesByChain.includes(finalCryptoCurrency))\n      errors.selectedCryptoCurrency = \"Unsupported cryptoCurrency\";\n  }\n  return { errors, isValid: Object.keys(errors).length === 0 };\n};\n\n// utility functions\n\n/**\n * json-rpc-engine middleware that logs RPC errors and and validates req.method.\n *\n * @param log - The logging API to use.\n * @returns  json-rpc-engine middleware function\n */\nexport function createErrorMiddleware(): JRPCMiddleware<unknown, unknown> {\n  return (req, res, next) => {\n    // json-rpc-engine will terminate the request when it notices this error\n    if (typeof req.method !== \"string\" || !req.method) {\n      res.error = ethErrors.rpc.invalidRequest({\n        message: `The request 'method' must be a non-empty string.`,\n        data: req,\n      });\n    }\n\n    next((done) => {\n      const { error } = res;\n      if (!error) {\n        return done();\n      }\n      log.error(`MetaMask - RPC Error: ${error.message}`, error);\n      return done();\n    });\n  };\n}\n\n// resolve response.result or response, reject errors\nexport const getRpcPromiseCallback =\n  (resolve: (value?: any) => void, reject: (error?: Error) => void, unwrapResult = true) =>\n  (error: Error, response: PendingJRPCResponse<unknown>): void => {\n    if (error || response.error) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      reject(error || response.error);\n    } else {\n      resolve(!unwrapResult || Array.isArray(response) ? response : response.result);\n    }\n  };\n\n/**\n * Logs a stream disconnection error. Emits an 'error' if given an\n * EventEmitter that has listeners for the 'error' event.\n *\n * @param log - The logging API to use.\n * @param remoteLabel - The label of the disconnected stream.\n * @param error - The associated error to log.\n * @param emitter - The logging API to use.\n */\nexport function logStreamDisconnectWarning(remoteLabel: string, error: Error, emitter: SafeEventEmitter): void {\n  let warningMsg = `MetaMask: Lost connection to \"${remoteLabel}\".`;\n  if (error?.stack) {\n    warningMsg += `\\n${error.stack}`;\n  }\n  log.warn(warningMsg);\n  if (emitter && emitter.listenerCount(\"error\") > 0) {\n    emitter.emit(\"error\", warningMsg);\n  }\n}\n\nexport const getPreopenInstanceId = () => Math.random().toString(36).slice(2);\n\nexport const getTorusUrl = async (buildEnv: string, integrity: IntegrityParams): Promise<{ torusUrl: string; logLevel: LogLevelDesc }> => {\n  let torusUrl: string;\n  let logLevel: LogLevelDesc;\n  // Do not change this line\n  const version = process.env.TORUS_EMBED_VERSION;\n  let versionUsed = integrity.version || version;\n  try {\n    if ((buildEnv === \"binance\" || buildEnv === \"production\") && !integrity.version) {\n      let response: { data: string };\n      if (!config.prodTorusUrl)\n        response = await get(`${config.api}/latestversion?name=@toruslabs/torus-embed&version=${version}`, {}, { useAPIKey: true });\n      else response = { data: config.prodTorusUrl };\n      versionUsed = response.data;\n      // eslint-disable-next-line require-atomic-updates\n      config.prodTorusUrl = response.data;\n    }\n  } catch (error) {\n    log.error(error, \"unable to fetch latest version\");\n  }\n  log.info(\"version used: \", versionUsed);\n  switch (buildEnv) {\n    case \"binance\":\n      torusUrl = `https://binance.tor.us/v${versionUsed}`;\n      logLevel = \"info\";\n      break;\n    case \"testing\":\n      torusUrl = \"https://testing.tor.us\";\n      logLevel = \"debug\";\n      break;\n    case \"lrc\":\n      torusUrl = \"https://lrc.tor.us\";\n      logLevel = \"debug\";\n      break;\n    case \"beta\":\n      torusUrl = \"https://beta.tor.us\";\n      logLevel = \"debug\";\n      break;\n    case \"development\":\n      torusUrl = \"http://localhost:4050\";\n      logLevel = \"debug\";\n      break;\n    default:\n      torusUrl = `https://app.tor.us/v${versionUsed}`;\n      logLevel = \"error\";\n      break;\n  }\n  return { torusUrl, logLevel };\n};\n\nexport const getUserLanguage = (): string => {\n  let userLanguage = window.navigator.language || \"en-US\";\n  const userLanguages = userLanguage.split(\"-\");\n  userLanguage = Object.prototype.hasOwnProperty.call(config.translations, userLanguages[0]) ? userLanguages[0] : \"en\";\n  return userLanguage;\n};\n\nexport const EMITTED_NOTIFICATIONS = [\n  \"eth_subscription\", // per eth-json-rpc-filters/subscriptionManager\n];\n\nexport const NOOP = (): void => {\n  // empty function\n};\n\nexport const FEATURES_PROVIDER_CHANGE_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375\";\nexport const FEATURES_DEFAULT_WALLET_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315\";\nexport const FEATURES_DEFAULT_POPUP_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=1200\";\nexport const FEATURES_CONFIRM_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450\";\n\nexport function storageAvailable(type: \"localStorage\" | \"sessionStorage\"): boolean {\n  let storage: Storage;\n  try {\n    storage = window[type];\n    const x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return (\n      e &&\n      // everything except Firefox\n      (e.code === 22 ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === \"QuotaExceededError\" ||\n        // Firefox\n        e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\n      // acknowledge QuotaExceededError only if there's something already stored\n      storage &&\n      storage.length !== 0\n    );\n  }\n}\n\nexport function getPopupFeatures(): string {\n  // Fixes dual-screen position                             Most browsers      Firefox\n  const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n\n  const w = 1200;\n  const h = 700;\n\n  const width = window.innerWidth\n    ? window.innerWidth\n    : document.documentElement.clientWidth\n    ? document.documentElement.clientWidth\n    : window.screen.width;\n\n  const height = window.innerHeight\n    ? window.innerHeight\n    : document.documentElement.clientHeight\n    ? document.documentElement.clientHeight\n    : window.screen.height;\n\n  const systemZoom = 1; // No reliable estimate\n\n  const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n  const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n  const features = `titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${h / systemZoom},width=${w / systemZoom},top=${top},left=${left}`;\n  return features;\n}\n","import { ObservableStore, storeAsStream } from \"@metamask/obs-store\";\nimport {\n  createIdRemapMiddleware,\n  createStreamMiddleware,\n  JRPCEngine,\n  JRPCRequest,\n  JRPCResponse,\n  JRPCSuccess,\n  ObjectMultiplex,\n  SafeEventEmitter,\n} from \"@toruslabs/openlogin-jrpc\";\nimport { EthereumRpcError, ethErrors } from \"eth-rpc-errors\";\nimport dequal from \"fast-deep-equal\";\nimport { duplex as isDuplexStream } from \"is-stream\";\nimport pump from \"pump\";\nimport type { Duplex } from \"readable-stream\";\n\nimport {\n  BaseProviderState,\n  JsonRpcConnection,\n  Maybe,\n  ProviderOptions,\n  PublicConfigState,\n  RequestArguments,\n  SendSyncJsonRpcRequest,\n  SentWarningsState,\n  UnvalidatedJsonRpcRequest,\n  WalletProviderState,\n} from \"./interfaces\";\nimport log from \"./loglevel\";\nimport messages from \"./messages\";\nimport { createErrorMiddleware, EMITTED_NOTIFICATIONS, logStreamDisconnectWarning, NOOP } from \"./utils\";\n\nSafeEventEmitter.defaultMaxListeners = 100;\n\n// resolve response.result, reject errors\nconst getRpcPromiseCallback =\n  (resolve, reject, unwrapResult = true) =>\n  (error, response) => {\n    if (error || response.error) {\n      return reject(error || response.error);\n    }\n    return !unwrapResult || Array.isArray(response) ? resolve(response) : resolve(response.result);\n  };\n\nclass TorusInpageProvider extends SafeEventEmitter {\n  protected static _defaultState: BaseProviderState = {\n    accounts: null,\n    isConnected: false,\n    isUnlocked: false,\n    initialized: false,\n    isPermanentlyDisconnected: false,\n    hasEmittedConnection: false,\n  };\n\n  /**\n   * The chain ID of the currently connected Ethereum chain.\n   * See [chainId.network]{@link https://chainid.network} for more information.\n   */\n  public chainId: string | null;\n\n  /**\n   * The user's currently selected Ethereum address.\n   * If null, MetaMask is either locked or the user has not permitted any\n   * addresses to be viewed.\n   */\n  public selectedAddress: string | null;\n\n  _rpcEngine: JRPCEngine;\n\n  public networkVersion: string | null;\n\n  shouldSendMetadata: boolean;\n\n  /**\n   * Indicating that this provider is a MetaMask provider.\n   */\n  public readonly isTorus: true;\n\n  _publicConfigStore: ObservableStore<PublicConfigState>;\n\n  tryPreopenHandle: (payload: UnvalidatedJsonRpcRequest | UnvalidatedJsonRpcRequest[], cb: (...args: unknown[]) => void) => void;\n\n  enable: () => Promise<string[]>;\n\n  protected _state: BaseProviderState;\n\n  protected _jsonRpcConnection: JsonRpcConnection;\n\n  protected _sentWarnings: SentWarningsState = {\n    // methods\n    enable: false,\n    experimentalMethods: false,\n    send: false,\n    publicConfigStore: false,\n    // events\n    events: {\n      close: false,\n      data: false,\n      networkChanged: false,\n      notification: false,\n    },\n  };\n\n  constructor(\n    connectionStream: Duplex,\n    { maxEventListeners = 100, shouldSendMetadata = true, jsonRpcStreamName = \"provider\" }: ProviderOptions = {}\n  ) {\n    super();\n    if (!isDuplexStream(connectionStream)) {\n      throw new Error(messages.errors.invalidDuplexStream());\n    }\n    this.isTorus = true;\n    this.setMaxListeners(maxEventListeners);\n\n    // private state\n    this._state = {\n      ...TorusInpageProvider._defaultState,\n    };\n\n    // public state\n    this.selectedAddress = null;\n    this.networkVersion = null;\n    this.chainId = null;\n    this.shouldSendMetadata = shouldSendMetadata;\n\n    // bind functions (to prevent e.g. web3@1.x from making unbound calls)\n    this._handleAccountsChanged = this._handleAccountsChanged.bind(this);\n    this._handleChainChanged = this._handleChainChanged.bind(this);\n    this._handleUnlockStateChanged = this._handleUnlockStateChanged.bind(this);\n    this._handleConnect = this._handleConnect.bind(this);\n    this._handleDisconnect = this._handleDisconnect.bind(this);\n    this._handleStreamDisconnect = this._handleStreamDisconnect.bind(this);\n    this._sendSync = this._sendSync.bind(this);\n    this._rpcRequest = this._rpcRequest.bind(this);\n    this._warnOfDeprecation = this._warnOfDeprecation.bind(this);\n    this._initializeState = this._initializeState.bind(this);\n\n    this.request = this.request.bind(this);\n    this.send = this.send.bind(this);\n    this.sendAsync = this.sendAsync.bind(this);\n    // this.enable = this.enable.bind(this);\n\n    // setup connectionStream multiplexing\n    const mux = new ObjectMultiplex();\n    pump(connectionStream, mux, connectionStream, this._handleStreamDisconnect.bind(this, \"MetaMask\"));\n\n    // subscribe to metamask public config (one-way)\n    this._publicConfigStore = new ObservableStore({ storageKey: \"Metamask-Config\" });\n\n    // handle isUnlocked changes, and chainChanged and networkChanged events\n    // this._publicConfigStore.subscribe((stringifiedState) => {\n    //   // This is because we are using store as string\n    //   const state = JSON.parse(stringifiedState as unknown as string);\n    //   if (\"isUnlocked\" in state && state.isUnlocked !== this._state.isUnlocked) {\n    //     this._state.isUnlocked = state.isUnlocked;\n    //     if (!this._state.isUnlocked) {\n    //       // accounts are never exposed when the extension is locked\n    //       this._handleAccountsChanged([]);\n    //     } else {\n    //       // this will get the exposed accounts, if any\n    //       try {\n    //         this._rpcRequest(\n    //           { method: \"eth_accounts\", params: [] },\n    //           NOOP,\n    //           true // indicating that eth_accounts _should_ update accounts\n    //         );\n    //       } catch (_) {\n    //         // Swallow error\n    //       }\n    //     }\n    //   }\n\n    //   if (\"selectedAddress\" in state && this.selectedAddress !== state.selectedAddress) {\n    //     try {\n    //       this._rpcRequest(\n    //         { method: \"eth_accounts\", params: [] },\n    //         NOOP,\n    //         true // indicating that eth_accounts _should_ update accounts\n    //       );\n    //     } catch (_) {\n    //       // Swallow error\n    //     }\n    //   }\n\n    //   // Emit chainChanged event on chain change\n    //   if (\"chainId\" in state && state.chainId !== this.chainId) {\n    //     this.chainId = state.chainId || null;\n    //     this.emit(\"chainChanged\", this.chainId);\n\n    //     // indicate that we've connected, for EIP-1193 compliance\n    //     // we do this here so that iframe can initialize\n    //     if (!this._state.hasEmittedConnection) {\n    //       this._handleConnect(this.chainId);\n    //       this._state.hasEmittedConnection = true;\n    //     }\n    //   }\n\n    //   // Emit networkChanged event on network change\n    //   if (\"networkVersion\" in state && state.networkVersion !== this.networkVersion) {\n    //     this.networkVersion = state.networkVersion || null;\n    //     this.emit(\"networkChanged\", this.networkVersion);\n    //   }\n    // });\n\n    pump(\n      mux.createStream(\"publicConfig\") as unknown as Duplex,\n      storeAsStream(this._publicConfigStore),\n      // RPC requests should still work if only this stream fails\n      logStreamDisconnectWarning.bind(this, \"MetaMask PublicConfigStore\")\n    );\n    // ignore phishing warning message (handled elsewhere)\n    mux.ignoreStream(\"phishing\");\n\n    // setup own event listeners\n\n    // EIP-1193 connect\n    this.on(\"connect\", () => {\n      this._state.isConnected = true;\n    });\n\n    // connect to async provider\n\n    const jsonRpcConnection = createStreamMiddleware();\n    pump(\n      jsonRpcConnection.stream,\n      mux.createStream(jsonRpcStreamName) as unknown as Duplex,\n      jsonRpcConnection.stream,\n      this._handleStreamDisconnect.bind(this, \"MetaMask RpcProvider\")\n    );\n\n    // handle RPC requests via dapp-side rpc engine\n    const rpcEngine = new JRPCEngine();\n    rpcEngine.push(createIdRemapMiddleware());\n    rpcEngine.push(createErrorMiddleware());\n    rpcEngine.push(jsonRpcConnection.middleware);\n    this._rpcEngine = rpcEngine;\n\n    // json rpc notification listener\n    jsonRpcConnection.events.on(\"notification\", (payload) => {\n      const { method, params } = payload;\n      if (method === \"wallet_accountsChanged\") {\n        this._handleAccountsChanged(params);\n      } else if (method === \"wallet_unlockStateChanged\") {\n        this._handleUnlockStateChanged(params);\n      } else if (method === \"wallet_chainChanged\") {\n        this._handleChainChanged(params);\n      } else if (EMITTED_NOTIFICATIONS.includes(payload.method)) {\n        // EIP 1193 subscriptions, per eth-json-rpc-filters/subscriptionManager\n        this.emit(\"data\", payload); // deprecated\n        this.emit(\"notification\", params.result);\n        this.emit(\"message\", {\n          type: method,\n          data: params,\n        });\n      }\n\n      // Backward compatibility for older non EIP 1193 subscriptions\n      // this.emit('data', null, payload)\n    });\n  }\n\n  get publicConfigStore(): ObservableStore<PublicConfigState> {\n    if (!this._sentWarnings.publicConfigStore) {\n      log.warn(messages.warnings.publicConfigStore);\n      this._sentWarnings.publicConfigStore = true;\n    }\n    return this._publicConfigStore;\n  }\n\n  /**\n   * Returns whether the inpage provider is connected to Torus.\n   */\n  isConnected(): boolean {\n    return this._state.isConnected;\n  }\n\n  /**\n   * Submits an RPC request for the given method, with the given params.\n   * Resolves with the result of the method call, or rejects on error.\n   *\n   * @param args - The RPC request arguments.\n   * @returns A Promise that resolves with the result of the RPC method,\n   * or rejects if an error is encountered.\n   */\n  async request<T>(args: RequestArguments): Promise<Maybe<T>> {\n    if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n      throw ethErrors.rpc.invalidRequest({\n        message: messages.errors.invalidRequestArgs(),\n        data: args,\n      });\n    }\n\n    const { method, params } = args;\n\n    if (typeof method !== \"string\" || method.length === 0) {\n      throw ethErrors.rpc.invalidRequest({\n        message: messages.errors.invalidRequestMethod(),\n        data: args,\n      });\n    }\n\n    if (params !== undefined && !Array.isArray(params) && (typeof params !== \"object\" || params === null)) {\n      throw ethErrors.rpc.invalidRequest({\n        message: messages.errors.invalidRequestParams(),\n        data: args,\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      this._rpcRequest({ method, params }, getRpcPromiseCallback(resolve, reject));\n    });\n  }\n\n  /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   *\n   * @param payload - The RPC request object.\n   * @param cb - The callback function.\n   */\n  sendAsync(payload: JRPCRequest<unknown>, callback: (error: Error | null, result?: JRPCResponse<unknown>) => void): void {\n    this._rpcRequest(payload, callback);\n  }\n\n  /**\n   * We override the following event methods so that we can warn consumers\n   * about deprecated events:\n   *   addListener, on, once, prependListener, prependOnceListener\n   */\n\n  addListener(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.addListener(eventName, listener);\n  }\n\n  on(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.on(eventName, listener);\n  }\n\n  once(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.once(eventName, listener);\n  }\n\n  prependListener(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.prependListener(eventName, listener);\n  }\n\n  prependOnceListener(eventName: string, listener: (...args: unknown[]) => void): this {\n    this._warnOfDeprecation(eventName);\n    return super.prependOnceListener(eventName, listener);\n  }\n\n  // Private Methods\n  //= ===================\n  /**\n   * Constructor helper.\n   * Populates initial state by calling 'wallet_getProviderState' and emits\n   * necessary events.\n   */\n  async _initializeState(): Promise<void> {\n    try {\n      const { accounts, chainId, isUnlocked, networkVersion } = (await this.request({\n        method: \"wallet_getProviderState\",\n      })) as WalletProviderState;\n\n      // indicate that we've connected, for EIP-1193 compliance\n      this.emit(\"connect\", { chainId });\n\n      this._handleChainChanged({ chainId, networkVersion });\n      this._handleUnlockStateChanged({ accounts, isUnlocked });\n      this._handleAccountsChanged(accounts);\n    } catch (error) {\n      log.error(\"MetaMask: Failed to get initial state. Please report this bug.\", error);\n    } finally {\n      log.info(\"initialized state\");\n      this._state.initialized = true;\n      this.emit(\"_initialized\");\n    }\n  }\n\n  /**\n   * Internal RPC method. Forwards requests to background via the RPC engine.\n   * Also remap ids inbound and outbound.\n   *\n   * @param payload - The RPC request object.\n   * @param callback - The consumer's callback.\n   * @param isInternal - false - Whether the request is internal.\n   */\n  _rpcRequest(payload: UnvalidatedJsonRpcRequest | UnvalidatedJsonRpcRequest[], callback: (...args: any[]) => void, isInternal = false): void {\n    let cb = callback;\n    const _payload = payload;\n    if (!Array.isArray(_payload)) {\n      if (!_payload.jsonrpc) {\n        _payload.jsonrpc = \"2.0\";\n      }\n\n      if (_payload.method === \"eth_accounts\" || _payload.method === \"eth_requestAccounts\") {\n        // handle accounts changing\n        cb = (err: Error, res: JRPCSuccess<string[]>) => {\n          this._handleAccountsChanged(res.result || [], _payload.method === \"eth_accounts\", isInternal);\n          callback(err, res);\n        };\n      } else if (_payload.method === \"wallet_getProviderState\") {\n        this._rpcEngine.handle(payload as JRPCRequest<unknown>, cb);\n        return;\n      }\n    }\n    this.tryPreopenHandle(_payload, cb);\n  }\n\n  /**\n   * Submits an RPC request for the given method, with the given params.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param method - The method to request.\n   * @param params - Any params for the method.\n   * @returns A Promise that resolves with the JSON-RPC response object for the\n   * request.\n   */\n  send<T>(method: string, params?: T[]): Promise<JRPCResponse<T>>;\n\n  /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param payload - A JSON-RPC request object.\n   * @param callback - An error-first callback that will receive the JSON-RPC\n   * response object.\n   */\n  send<T>(payload: JRPCRequest<unknown>, callback: (error: Error | null, result?: JRPCResponse<T>) => void): void;\n\n  /**\n   * Accepts a JSON-RPC request object, and synchronously returns the cached result\n   * for the given method. Only supports 4 specific RPC methods.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param payload - A JSON-RPC request object.\n   * @returns A JSON-RPC response object.\n   */\n  send<T>(payload: SendSyncJsonRpcRequest): JRPCResponse<T>;\n\n  send(methodOrPayload: unknown, callbackOrArgs?: unknown): unknown {\n    if (!this._sentWarnings.send) {\n      log.warn(messages.warnings.sendDeprecation);\n      this._sentWarnings.send = true;\n    }\n    if (typeof methodOrPayload === \"string\" && (!callbackOrArgs || Array.isArray(callbackOrArgs))) {\n      return new Promise((resolve, reject) => {\n        try {\n          this._rpcRequest({ method: methodOrPayload, params: callbackOrArgs }, getRpcPromiseCallback(resolve, reject, false));\n        } catch (error) {\n          reject(error);\n        }\n      });\n    }\n    if (methodOrPayload && typeof methodOrPayload === \"object\" && typeof callbackOrArgs === \"function\") {\n      return this._rpcRequest(methodOrPayload as JRPCRequest<unknown>, callbackOrArgs as (...args: unknown[]) => void);\n    }\n    return this._sendSync(methodOrPayload as SendSyncJsonRpcRequest);\n  }\n\n  /**\n   * DEPRECATED.\n   * Internal backwards compatibility method, used in send.\n   */\n  _sendSync(payload: SendSyncJsonRpcRequest): JRPCSuccess<unknown> {\n    let result;\n    switch (payload.method) {\n      case \"eth_accounts\":\n        result = this.selectedAddress ? [this.selectedAddress] : [];\n        break;\n\n      case \"eth_coinbase\":\n        result = this.selectedAddress || null;\n        break;\n\n      case \"eth_uninstallFilter\":\n        this._rpcRequest(payload, NOOP);\n        result = true;\n        break;\n\n      case \"net_version\":\n        result = this.networkVersion || null;\n        break;\n\n      default:\n        throw new Error(messages.errors.unsupportedSync(payload.method));\n    }\n\n    return {\n      id: payload.id,\n      jsonrpc: payload.jsonrpc,\n      result,\n    };\n  }\n\n  /**\n   * When the provider becomes connected, updates internal state and emits\n   * required events. Idempotent.\n   *\n   * @param chainId - The ID of the newly connected chain.\n   * emits MetaMaskInpageProvider#connect\n   */\n  protected _handleConnect(chainId: string): void {\n    if (!this._state.isConnected) {\n      this._state.isConnected = true;\n      this.emit(\"connect\", { chainId });\n      log.debug(messages.info.connected(chainId));\n    }\n  }\n\n  /**\n   * When the provider becomes disconnected, updates internal state and emits\n   * required events. Idempotent with respect to the isRecoverable parameter.\n   *\n   * Error codes per the CloseEvent status codes as required by EIP-1193:\n   * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n   *\n   * @param isRecoverable - Whether the disconnection is recoverable.\n   * @param errorMessage - A custom error message.\n   * emits MetaMaskInpageProvider#disconnect\n   */\n  protected _handleDisconnect(isRecoverable: boolean, errorMessage?: string): void {\n    if (this._state.isConnected || (!this._state.isPermanentlyDisconnected && !isRecoverable)) {\n      this._state.isConnected = false;\n\n      let error;\n      if (isRecoverable) {\n        error = new EthereumRpcError(\n          1013, // Try again later\n          errorMessage || messages.errors.disconnected()\n        );\n        log.debug(error);\n      } else {\n        error = new EthereumRpcError(\n          1011, // Internal error\n          errorMessage || messages.errors.permanentlyDisconnected()\n        );\n        log.error(error);\n        this.chainId = null;\n        this._state.accounts = null;\n        this.selectedAddress = null;\n        this._state.isUnlocked = false;\n        this._state.isPermanentlyDisconnected = true;\n      }\n\n      this.emit(\"disconnect\", error);\n    }\n  }\n\n  /**\n   * Called when connection is lost to critical streams.\n   *\n   * emits MetamaskInpageProvider#disconnect\n   */\n  protected _handleStreamDisconnect(streamName: string, error: Error): void {\n    logStreamDisconnectWarning(streamName, error, this);\n    this._handleDisconnect(false, error ? error.message : undefined);\n  }\n\n  /**\n   * Called when accounts may have changed.\n   */\n  protected _handleAccountsChanged(accounts: unknown[], isEthAccounts = false, isInternal = false): void {\n    // defensive programming\n    let finalAccounts = accounts;\n    if (!Array.isArray(finalAccounts)) {\n      log.error(\"MetaMask: Received non-array accounts parameter. Please report this bug.\", finalAccounts);\n      finalAccounts = [];\n    }\n\n    for (const account of accounts) {\n      if (typeof account !== \"string\") {\n        log.error(\"MetaMask: Received non-string account. Please report this bug.\", accounts);\n        finalAccounts = [];\n        break;\n      }\n    }\n\n    // emit accountsChanged if anything about the accounts array has changed\n    if (!dequal(this._state.accounts, finalAccounts)) {\n      // we should always have the correct accounts even before eth_accounts\n      // returns, except in cases where isInternal is true\n      if (isEthAccounts && Array.isArray(this._state.accounts) && this._state.accounts.length > 0 && !isInternal) {\n        log.error('MetaMask: \"eth_accounts\" unexpectedly updated accounts. Please report this bug.', finalAccounts);\n      }\n\n      this._state.accounts = finalAccounts as string[];\n      this.emit(\"accountsChanged\", finalAccounts);\n    }\n\n    // handle selectedAddress\n    if (this.selectedAddress !== finalAccounts[0]) {\n      this.selectedAddress = (finalAccounts[0] as string) || null;\n    }\n  }\n\n  /**\n   * Upon receipt of a new chainId and networkVersion, emits corresponding\n   * events and sets relevant public state.\n   * Does nothing if neither the chainId nor the networkVersion are different\n   * from existing values.\n   *\n   * emits MetamaskInpageProvider#chainChanged\n   * @param networkInfo - An object with network info.\n   */\n  protected _handleChainChanged({ chainId, networkVersion }: { chainId?: string; networkVersion?: string } = {}): void {\n    if (!chainId || !networkVersion) {\n      log.error(\"MetaMask: Received invalid network parameters. Please report this bug.\", { chainId, networkVersion });\n      return;\n    }\n\n    if (networkVersion === \"loading\") {\n      this._handleDisconnect(true);\n    } else {\n      this._handleConnect(chainId);\n\n      if (chainId !== this.chainId) {\n        this.chainId = chainId;\n        if (this._state.initialized) {\n          this.emit(\"chainChanged\", this.chainId);\n        }\n      }\n    }\n  }\n\n  /**\n   * Upon receipt of a new isUnlocked state, sets relevant public state.\n   * Calls the accounts changed handler with the received accounts, or an empty\n   * array.\n   *\n   * Does nothing if the received value is equal to the existing value.\n   * There are no lock/unlock events.\n   *\n   * @param opts - Options bag.\n   */\n  protected _handleUnlockStateChanged({ accounts, isUnlocked }: { accounts?: string[]; isUnlocked?: boolean } = {}): void {\n    if (typeof isUnlocked !== \"boolean\") {\n      log.error(\"MetaMask: Received invalid isUnlocked parameter. Please report this bug.\", { isUnlocked });\n      return;\n    }\n\n    if (isUnlocked !== this._state.isUnlocked) {\n      this._state.isUnlocked = isUnlocked;\n      this._handleAccountsChanged(accounts || []);\n    }\n  }\n\n  /**\n   * Warns of deprecation for the given event, if applicable.\n   */\n  protected _warnOfDeprecation(eventName: string): void {\n    if (this._sentWarnings.events[eventName] === false) {\n      log.warn(messages.warnings.events[eventName]);\n      this._sentWarnings.events[eventName] = true;\n    }\n  }\n}\n\nexport default TorusInpageProvider;\n","import createHash from \"create-hash\";\n\nimport { IHashAlgorithmOptions, SRI } from \"./interfaces\";\n\nconst defaults = (options: IHashAlgorithmOptions) => ({\n  algorithms: options.algorithms || [\"sha256\"],\n  delimiter: options.delimiter || \" \",\n  full: options.full || false,\n});\n\n// Generate list of hashes\nconst hashes = (options: IHashAlgorithmOptions, data: string): Record<createHash.algorithm, string> => {\n  const internalHashes: Record<string, string> = {};\n  options.algorithms.forEach((algorithm) => {\n    internalHashes[algorithm] = createHash(algorithm).update(data, \"utf8\").digest(\"base64\");\n  });\n  return internalHashes;\n};\n// Build an integrity string\nconst integrity = (options: IHashAlgorithmOptions, sri: SRI): string => {\n  let output = \"\";\n\n  // Hash list\n  output += Object.keys(sri.hashes)\n    .map((algorithm: createHash.algorithm) => `${algorithm}-${sri.hashes[algorithm]}`)\n    .join(options.delimiter);\n\n  return output;\n};\n\nconst main = (options: IHashAlgorithmOptions, data: string): SRI | string => {\n  // Defaults\n  const finalOptions = defaults(options);\n\n  const sri = {\n    hashes: hashes(finalOptions, data),\n    integrity: undefined,\n  };\n  sri.integrity = integrity(finalOptions, sri);\n\n  return finalOptions.full ? sri : sri.integrity;\n};\n\nexport default main;\n","import { EventEmitter } from \"events\";\n\nimport { getPopupFeatures } from \"./utils\";\n\nclass PopupHandler extends EventEmitter {\n  url: URL;\n\n  target: string;\n\n  features: string;\n\n  window: Window;\n\n  windowTimer: number;\n\n  iClosedWindow: boolean;\n\n  constructor({ url, target, features }: { url: URL; target?: string; features?: string }) {\n    super();\n    this.url = url;\n    this.target = target || \"_blank\";\n    this.features = features || getPopupFeatures();\n    this.window = undefined;\n    this.windowTimer = undefined;\n    this.iClosedWindow = false;\n    this._setupTimer();\n  }\n\n  _setupTimer(): void {\n    this.windowTimer = Number(\n      setInterval(() => {\n        if (this.window && this.window.closed) {\n          clearInterval(this.windowTimer);\n          if (!this.iClosedWindow) {\n            this.emit(\"close\");\n          }\n          this.iClosedWindow = false;\n          this.window = undefined;\n        }\n        if (this.window === undefined) clearInterval(this.windowTimer);\n      }, 500)\n    );\n  }\n\n  open(): Promise<void> {\n    this.window = window.open(this.url.href, this.target, this.features);\n    if (this.window?.focus) this.window.focus();\n    return Promise.resolve();\n  }\n\n  close(): void {\n    this.iClosedWindow = true;\n    if (this.window) this.window.close();\n  }\n\n  redirect(locationReplaceOnRedirect: boolean): void {\n    if (locationReplaceOnRedirect) {\n      window.location.replace(this.url.href);\n    } else {\n      window.location.href = this.url.href;\n    }\n  }\n}\n\nexport default PopupHandler;\n","import { JRPCEngine } from \"@toruslabs/openlogin-jrpc\";\n\nimport log from \"./loglevel\";\nimport messages from \"./messages\";\nimport { getPreopenInstanceId, NOOP } from \"./utils\";\n\n/**\n * Returns whether the given image URL exists\n * @param url - the url of the image\n * @returns - whether the image exists\n */\nfunction imgExists(url: string): Promise<boolean> {\n  return new Promise((resolve, reject) => {\n    try {\n      const img = document.createElement(\"img\");\n      img.onload = () => resolve(true);\n      img.onerror = () => resolve(false);\n      img.src = url;\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\n/**\n * Extracts a name for the site from the DOM\n */\nconst getSiteName = (window: Window) => {\n  const { document } = window;\n\n  const siteName = document.querySelector<HTMLMetaElement>('head > meta[property=\"og:site_name\"]');\n  if (siteName) {\n    return siteName.content;\n  }\n\n  const metaTitle = document.querySelector<HTMLMetaElement>('head > meta[name=\"title\"]');\n  if (metaTitle) {\n    return metaTitle.content;\n  }\n\n  if (document.title && document.title.length > 0) {\n    return document.title;\n  }\n\n  return window.location.hostname;\n};\n\n/**\n * Extracts an icon for the site from the DOM\n */\nasync function getSiteIcon(window: Window): Promise<string | null> {\n  const { document } = window;\n\n  // Use the site's favicon if it exists\n  let icon = document.querySelector<HTMLLinkElement>('head > link[rel=\"shortcut icon\"]');\n  if (icon && (await imgExists(icon.href))) {\n    return icon.href;\n  }\n\n  // Search through available icons in no particular order\n  icon = Array.from(document.querySelectorAll<HTMLLinkElement>('head > link[rel=\"icon\"]')).find((_icon) => Boolean(_icon.href));\n  if (icon && (await imgExists(icon.href))) {\n    return icon.href;\n  }\n\n  return null;\n}\n\n/**\n * Gets site metadata and returns it\n *\n */\nconst getSiteMetadata = async () => ({\n  name: getSiteName(window),\n  icon: await getSiteIcon(window),\n});\n\n/**\n * Sends site metadata over an RPC request.\n */\nexport default async function sendSiteMetadata(engine: JRPCEngine): Promise<void> {\n  try {\n    const domainMetadata = await getSiteMetadata();\n    // call engine.handle directly to avoid normal RPC request handling\n    engine.handle(\n      {\n        jsonrpc: \"2.0\",\n        id: getPreopenInstanceId(),\n        method: \"wallet_sendDomainMetadata\",\n        params: domainMetadata,\n      },\n      NOOP\n    );\n  } catch (error) {\n    log.error({\n      message: messages.errors.sendSiteMetadata(),\n      originalError: error,\n    });\n  }\n}\n","import NodeDetailManager from \"@toruslabs/fetch-node-details\";\nimport { setAPIKey } from \"@toruslabs/http-helpers\";\nimport { BasePostMessageStream, JRPCRequest, ObjectMultiplex, setupMultiplex, Substream } from \"@toruslabs/openlogin-jrpc\";\nimport TorusJs from \"@toruslabs/torus.js\";\nimport deepmerge from \"lodash.merge\";\n\nimport configuration from \"./config\";\nimport { documentReady, handleStream, htmlToElement, runOnLoad } from \"./embedUtils\";\nimport TorusInpageProvider from \"./inpage-provider\";\nimport generateIntegrity from \"./integrity\";\nimport {\n  BUTTON_POSITION,\n  BUTTON_POSITION_TYPE,\n  EMBED_TRANSLATION_ITEM,\n  LOGIN_PROVIDER,\n  PAYMENT_PROVIDER_TYPE,\n  PaymentParams,\n  TORUS_BUILD_ENV,\n  TorusCtorArgs,\n  TorusLoginParams,\n  TorusParams,\n  TorusPublicKey,\n  UnvalidatedJsonRpcRequest,\n  UserInfo,\n  VerifierArgs,\n  WALLET_OPENLOGIN_VERIFIER_MAP,\n  WALLET_PATH,\n  WhiteLabelParams,\n} from \"./interfaces\";\nimport log from \"./loglevel\";\nimport PopupHandler from \"./PopupHandler\";\nimport sendSiteMetadata from \"./siteMetadata\";\nimport {\n  FEATURES_CONFIRM_WINDOW,\n  FEATURES_DEFAULT_WALLET_WINDOW,\n  FEATURES_PROVIDER_CHANGE_WINDOW,\n  getPreopenInstanceId,\n  getTorusUrl,\n  getUserLanguage,\n  storageAvailable,\n  validatePaymentProvider,\n} from \"./utils\";\n\nconst defaultVerifiers = {\n  [LOGIN_PROVIDER.GOOGLE]: true,\n  [LOGIN_PROVIDER.FACEBOOK]: true,\n  [LOGIN_PROVIDER.REDDIT]: true,\n  [LOGIN_PROVIDER.TWITCH]: true,\n  [LOGIN_PROVIDER.DISCORD]: true,\n};\n\nconst iframeIntegrity = \"sha384-1fw4uibEy7k/fIc+PrvRqcvhiKoHw7/Er2RT5fW0GrvGD5GoiBBcKlFlyaPcdjcR\";\n\nconst expectedCacheControlHeader = \"max-age=3600\";\n\nconst UNSAFE_METHODS = [\n  \"eth_sendTransaction\",\n  \"eth_signTypedData\",\n  \"eth_signTypedData_v3\",\n  \"eth_signTypedData_v4\",\n  \"personal_sign\",\n  \"eth_getEncryptionPublicKey\",\n  \"eth_decrypt\",\n];\n\nconst isLocalStorageAvailable = storageAvailable(\"localStorage\");\n\n// preload for iframe doesn't work https://bugs.chromium.org/p/chromium/issues/detail?id=593267\n(async function preLoadIframe() {\n  try {\n    if (typeof document === \"undefined\") return;\n    const torusIframeHtml = document.createElement(\"link\");\n    const { torusUrl } = await getTorusUrl(\"production\", { check: false, hash: iframeIntegrity, version: \"\" });\n    torusIframeHtml.href = `${torusUrl}/popup`;\n    torusIframeHtml.crossOrigin = \"anonymous\";\n    torusIframeHtml.type = \"text/html\";\n    torusIframeHtml.rel = \"prefetch\";\n    if (torusIframeHtml.relList && torusIframeHtml.relList.supports) {\n      if (torusIframeHtml.relList.supports(\"prefetch\")) {\n        document.head.appendChild(torusIframeHtml);\n      }\n    }\n  } catch (error) {\n    log.warn(error);\n  }\n})();\n\nclass Torus {\n  buttonPosition: BUTTON_POSITION_TYPE = BUTTON_POSITION.BOTTOM_LEFT;\n\n  torusUrl: string;\n\n  torusIframe: HTMLIFrameElement;\n\n  styleLink: HTMLLinkElement;\n\n  isLoggedIn: boolean;\n\n  isInitialized: boolean;\n\n  torusWidgetVisibility: boolean;\n\n  torusAlert: HTMLDivElement;\n\n  nodeDetailManager: NodeDetailManager;\n\n  torusJs: TorusJs;\n\n  apiKey: string;\n\n  modalZIndex: number;\n\n  alertZIndex: number;\n\n  torusAlertContainer: HTMLDivElement;\n\n  isIframeFullScreen: boolean;\n\n  whiteLabel: WhiteLabelParams;\n\n  requestedVerifier: string;\n\n  currentVerifier: string;\n\n  embedTranslations: EMBED_TRANSLATION_ITEM;\n\n  ethereum: TorusInpageProvider;\n\n  provider: TorusInpageProvider;\n\n  communicationMux: ObjectMultiplex;\n\n  isLoginCallback: () => void;\n\n  dappStorageKey: string;\n\n  paymentProviders = configuration.paymentProviders;\n\n  private loginHint = \"\";\n\n  private useWalletConnect: boolean;\n\n  constructor({ buttonPosition = BUTTON_POSITION.BOTTOM_LEFT, modalZIndex = 99999, apiKey = \"torus-default\" }: TorusCtorArgs = {}) {\n    this.buttonPosition = buttonPosition;\n    this.torusUrl = \"\";\n    this.isLoggedIn = false; // ethereum.enable working\n    this.isInitialized = false; // init done\n    this.torusWidgetVisibility = true;\n    this.requestedVerifier = \"\";\n    this.currentVerifier = \"\";\n    this.nodeDetailManager = new NodeDetailManager();\n    this.torusJs = new TorusJs({\n      metadataHost: \"https://metadata.tor.us\",\n      allowHost: \"https://signer.tor.us/api/allow\",\n      network: \"mainnet\",\n    });\n    this.apiKey = apiKey;\n    TorusJs.setAPIKey(apiKey);\n    setAPIKey(apiKey);\n    this.modalZIndex = modalZIndex;\n    this.alertZIndex = modalZIndex + 1000;\n    this.isIframeFullScreen = false;\n    this.dappStorageKey = \"\";\n  }\n\n  async init({\n    buildEnv = TORUS_BUILD_ENV.PRODUCTION,\n    enableLogging = false,\n    // deprecated: use loginConfig instead\n    enabledVerifiers = defaultVerifiers,\n    network = {\n      host: \"mainnet\",\n      chainId: null,\n      networkName: \"\",\n      blockExplorer: \"\",\n      ticker: \"\",\n      tickerName: \"\",\n    },\n    loginConfig = {},\n    showTorusButton = true,\n    integrity = {\n      check: false,\n      hash: iframeIntegrity,\n      version: \"\",\n    },\n    whiteLabel,\n    skipTKey = false,\n    useLocalStorage = false,\n    useWalletConnect = false,\n  }: TorusParams = {}): Promise<void> {\n    if (this.isInitialized) throw new Error(\"Already initialized\");\n    const { torusUrl, logLevel } = await getTorusUrl(buildEnv, integrity);\n    log.info(torusUrl, \"url loaded\");\n    this.torusUrl = torusUrl;\n    this.whiteLabel = whiteLabel;\n    this.useWalletConnect = useWalletConnect;\n    log.setDefaultLevel(logLevel);\n    if (enableLogging) log.enableAll();\n    else log.disableAll();\n    this.torusWidgetVisibility = showTorusButton;\n    let dappStorageKey = \"\";\n    if (isLocalStorageAvailable && useLocalStorage) {\n      const localStorageKey = `${configuration.localStorageKeyPrefix}${window.location.hostname}`;\n      const storedKey = window.localStorage.getItem(localStorageKey);\n      if (storedKey) dappStorageKey = storedKey;\n      else {\n        const generatedKey = `torus-app-${getPreopenInstanceId()}`;\n        window.localStorage.setItem(localStorageKey, generatedKey);\n        dappStorageKey = generatedKey;\n      }\n    }\n    this.dappStorageKey = dappStorageKey;\n    const torusIframeUrl = new URL(torusUrl);\n    if (torusIframeUrl.pathname.endsWith(\"/\")) torusIframeUrl.pathname += \"popup\";\n    else torusIframeUrl.pathname += \"/popup\";\n    if (dappStorageKey) {\n      torusIframeUrl.hash = `#dappStorageKey=${dappStorageKey}`;\n    }\n    // Iframe code\n    this.torusIframe = htmlToElement<HTMLIFrameElement>(\n      `<iframe\n        id=\"torusIframe\"\n        allow=${useWalletConnect ? \"camera\" : \"\"}\n        class=\"torusIframe\"\n        src=\"${torusIframeUrl.href}\"\n        style=\"display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex}\"\n      ></iframe>`\n    );\n\n    this.torusAlertContainer = htmlToElement<HTMLDivElement>('<div id=\"torusAlertContainer\"></div>');\n    this.torusAlertContainer.style.display = \"none\";\n    this.torusAlertContainer.style.setProperty(\"z-index\", this.alertZIndex.toString());\n\n    const link = window.document.createElement(\"link\");\n    link.setAttribute(\"rel\", \"stylesheet\");\n    link.setAttribute(\"type\", \"text/css\");\n    link.setAttribute(\"href\", `${torusUrl}/css/widget.css`);\n    this.styleLink = link;\n\n    const { defaultLanguage = getUserLanguage(), customTranslations = {} } = this.whiteLabel || {};\n    const mergedTranslations = deepmerge(configuration.translations, customTranslations);\n    const languageTranslations = mergedTranslations[defaultLanguage] || configuration.translations[getUserLanguage()];\n    this.embedTranslations = languageTranslations.embed;\n\n    const handleSetup = async () => {\n      await documentReady();\n      return new Promise((resolve, reject) => {\n        this.torusIframe.onload = async () => {\n          // only do this if iframe is not full screen\n          this._setupWeb3();\n          const initStream = this.communicationMux.getStream(\"init_stream\") as Substream;\n          initStream.on(\"data\", (chunk) => {\n            const { name, data, error } = chunk;\n            if (name === \"init_complete\" && data.success) {\n              // resolve promise\n              this.isInitialized = true;\n              this._displayIframe(this.isIframeFullScreen);\n              resolve(undefined);\n            } else if (error) {\n              reject(new Error(error));\n            }\n          });\n          initStream.write({\n            name: \"init_stream\",\n            data: {\n              enabledVerifiers,\n              loginConfig,\n              whiteLabel: this.whiteLabel,\n              buttonPosition: this.buttonPosition,\n              torusWidgetVisibility: this.torusWidgetVisibility,\n              apiKey: this.apiKey,\n              skipTKey,\n              network,\n            },\n          });\n        };\n        window.document.head.appendChild(this.styleLink);\n        window.document.body.appendChild(this.torusIframe);\n        window.document.body.appendChild(this.torusAlertContainer);\n      });\n    };\n\n    if (buildEnv === \"production\" && integrity.check) {\n      // hacky solution to check for iframe integrity\n      const fetchUrl = `${torusUrl}/popup`;\n      const resp = await fetch(fetchUrl, { cache: \"reload\" });\n      if (resp.headers.get(\"Cache-Control\") !== expectedCacheControlHeader) {\n        throw new Error(`Unexpected Cache-Control headers, got ${resp.headers.get(\"Cache-Control\")}`);\n      }\n      const response = await resp.text();\n      const calculatedIntegrity = generateIntegrity(\n        {\n          algorithms: [\"sha384\"],\n        },\n        response\n      );\n      log.info(calculatedIntegrity, \"integrity\");\n      if (calculatedIntegrity === integrity.hash) {\n        await handleSetup();\n      } else {\n        this.clearInit();\n        throw new Error(\"Integrity check failed\");\n      }\n    } else {\n      await handleSetup();\n    }\n    return undefined;\n  }\n\n  login({ verifier = \"\", login_hint: loginHint = \"\" }: TorusLoginParams = {}): Promise<string[]> {\n    if (!this.isInitialized) throw new Error(\"Call init() first\");\n    this.requestedVerifier = verifier;\n    this.loginHint = loginHint;\n    return this.ethereum.enable();\n  }\n\n  logout(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (!this.isLoggedIn) {\n        reject(new Error(\"User has not logged in yet\"));\n        return;\n      }\n\n      const logOutStream = this.communicationMux.getStream(\"logout\") as Substream;\n      logOutStream.write({ name: \"logOut\" });\n      const statusStream = this.communicationMux.getStream(\"status\") as Substream;\n      const statusStreamHandler = (status) => {\n        if (!status.loggedIn) {\n          this.isLoggedIn = false;\n          this.currentVerifier = \"\";\n          this.requestedVerifier = \"\";\n          resolve();\n        } else reject(new Error(\"Some Error Occured\"));\n      };\n      handleStream(statusStream, \"data\", statusStreamHandler);\n    });\n  }\n\n  async cleanUp(): Promise<void> {\n    if (this.isLoggedIn) {\n      await this.logout();\n    }\n    this.clearInit();\n  }\n\n  clearInit(): void {\n    function isElement(element: unknown) {\n      return element instanceof Element || element instanceof HTMLDocument;\n    }\n    if (isElement(this.styleLink) && window.document.body.contains(this.styleLink)) {\n      this.styleLink.remove();\n      this.styleLink = undefined;\n    }\n    if (isElement(this.torusIframe) && window.document.body.contains(this.torusIframe)) {\n      this.torusIframe.remove();\n      this.torusIframe = undefined;\n    }\n    if (isElement(this.torusAlertContainer) && window.document.body.contains(this.torusAlertContainer)) {\n      this.torusAlert = undefined;\n      this.torusAlertContainer.remove();\n      this.torusAlertContainer = undefined;\n    }\n    this.isInitialized = false;\n  }\n\n  hideTorusButton(): void {\n    this.torusWidgetVisibility = false;\n    this._sendWidgetVisibilityStatus(false);\n    this._displayIframe();\n  }\n\n  showTorusButton(): void {\n    this.torusWidgetVisibility = true;\n    this._sendWidgetVisibilityStatus(true);\n    this._displayIframe();\n  }\n\n  setProvider({ host = \"mainnet\", chainId = null, networkName = \"\", ...rest } = {}): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const providerChangeStream = this.communicationMux.getStream(\"provider_change\") as Substream;\n      const handler = (chunk) => {\n        const { err, success } = chunk.data;\n        log.info(chunk);\n        if (err) {\n          reject(err);\n        } else if (success) {\n          resolve();\n        } else reject(new Error(\"some error occured\"));\n      };\n      handleStream(providerChangeStream, \"data\", handler);\n      const preopenInstanceId = getPreopenInstanceId();\n      this._handleWindow(preopenInstanceId, {\n        target: \"_blank\",\n        features: FEATURES_PROVIDER_CHANGE_WINDOW,\n      });\n      providerChangeStream.write({\n        name: \"show_provider_change\",\n        data: {\n          network: {\n            host,\n            chainId,\n            networkName,\n            ...rest,\n          },\n          preopenInstanceId,\n          override: false,\n        },\n      });\n    });\n  }\n\n  showWallet(path: WALLET_PATH, params: Record<string, string> = {}): void {\n    const showWalletStream = this.communicationMux.getStream(\"show_wallet\") as Substream;\n    const finalPath = path ? `/${path}` : \"\";\n    showWalletStream.write({ name: \"show_wallet\", data: { path: finalPath } });\n\n    const showWalletHandler = (chunk) => {\n      if (chunk.name === \"show_wallet_instance\") {\n        // Let the error propogate up (hence, no try catch)\n        const { instanceId } = chunk.data;\n        const finalUrl = new URL(`${this.torusUrl}/wallet${finalPath}`);\n        // Using URL constructor to prevent js injection and allow parameter validation.!\n        finalUrl.searchParams.append(\"integrity\", \"true\");\n        finalUrl.searchParams.append(\"instanceId\", instanceId);\n        Object.keys(params).forEach((x) => {\n          finalUrl.searchParams.append(x, params[x]);\n        });\n        if (this.dappStorageKey) {\n          finalUrl.hash = `#dappStorageKey=${this.dappStorageKey}`;\n        }\n        const walletWindow = new PopupHandler({ url: finalUrl, features: FEATURES_DEFAULT_WALLET_WINDOW });\n        walletWindow.open();\n      }\n    };\n\n    handleStream(showWalletStream, \"data\", showWalletHandler);\n  }\n\n  async getPublicAddress({ verifier, verifierId, isExtended = false }: VerifierArgs): Promise<string | TorusPublicKey> {\n    if (!configuration.supportedVerifierList.includes(verifier) || !WALLET_OPENLOGIN_VERIFIER_MAP[verifier]) throw new Error(\"Unsupported verifier\");\n    const nodeDetails = await this.nodeDetailManager.getNodeDetails({ verifier, verifierId });\n    const endpoints = nodeDetails.torusNodeEndpoints;\n    const torusNodePubs = nodeDetails.torusNodePub;\n    const walletVerifier = verifier;\n    const openloginVerifier = WALLET_OPENLOGIN_VERIFIER_MAP[verifier];\n    try {\n      const existingV1User = await this.torusJs.getUserTypeAndAddress(endpoints, torusNodePubs, { verifier: walletVerifier, verifierId });\n      if (existingV1User.typeOfUser === \"v1\") {\n        if (!isExtended) return existingV1User.address;\n        return existingV1User;\n      }\n      // we don't support v2 users with v1 verifiers so get or assign the key for v2 user on v2 `verifier`\n      const v2User = await this.torusJs.getUserTypeAndAddress(endpoints, torusNodePubs, { verifier: openloginVerifier, verifierId }, true);\n      if (!isExtended) return v2User.address;\n      return v2User;\n    } catch (error) {\n      if (error?.message.includes(\"Verifier + VerifierID has not yet been assigned\")) {\n        // if user doesn't have key then assign it with v2 verifier\n        const newV2User = await this.torusJs.getUserTypeAndAddress(endpoints, torusNodePubs, { verifier: openloginVerifier, verifierId }, true);\n        if (!isExtended) return newV2User.address;\n        return newV2User;\n      }\n      throw error;\n    }\n  }\n\n  getUserInfo(message: string): Promise<UserInfo> {\n    return new Promise((resolve, reject) => {\n      if (this.isLoggedIn) {\n        const userInfoAccessStream = this.communicationMux.getStream(\"user_info_access\") as Substream;\n        userInfoAccessStream.write({ name: \"user_info_access_request\" });\n        const userInfoAccessHandler = (chunk) => {\n          const {\n            name,\n            data: { approved, payload, rejected, newRequest },\n          } = chunk;\n          if (name === \"user_info_access_response\") {\n            if (approved) {\n              resolve(payload);\n            } else if (rejected) {\n              reject(new Error(\"User rejected the request\"));\n            } else if (newRequest) {\n              const userInfoStream = this.communicationMux.getStream(\"user_info\") as Substream;\n              const userInfoHandler = (handlerChunk) => {\n                if (handlerChunk.name === \"user_info_response\") {\n                  if (handlerChunk.data.approved) {\n                    resolve(handlerChunk.data.payload);\n                  } else {\n                    reject(new Error(\"User rejected the request\"));\n                  }\n                }\n              };\n              handleStream(userInfoStream, \"data\", userInfoHandler);\n              const preopenInstanceId = getPreopenInstanceId();\n              this._handleWindow(preopenInstanceId, {\n                target: \"_blank\",\n                features: FEATURES_PROVIDER_CHANGE_WINDOW,\n              });\n              userInfoStream.write({ name: \"user_info_request\", data: { message, preopenInstanceId } });\n            }\n          }\n        };\n        handleStream(userInfoAccessStream, \"data\", userInfoAccessHandler);\n      } else reject(new Error(\"User has not logged in yet\"));\n    });\n  }\n\n  initiateTopup(provider: PAYMENT_PROVIDER_TYPE, params: PaymentParams): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      if (this.isInitialized) {\n        const { errors, isValid } = validatePaymentProvider(provider, params);\n        if (!isValid) {\n          reject(new Error(JSON.stringify(errors)));\n          return;\n        }\n        const topupStream = this.communicationMux.getStream(\"topup\") as Substream;\n        const topupHandler = (chunk) => {\n          if (chunk.name === \"topup_response\") {\n            if (chunk.data.success) {\n              resolve(chunk.data.success);\n            } else {\n              reject(new Error(chunk.data.error));\n            }\n          }\n        };\n        handleStream(topupStream, \"data\", topupHandler);\n        const preopenInstanceId = getPreopenInstanceId();\n        this._handleWindow(preopenInstanceId);\n        topupStream.write({ name: \"topup_request\", data: { provider, params, preopenInstanceId } });\n      } else reject(new Error(\"Torus is not initialized yet\"));\n    });\n  }\n\n  async loginWithPrivateKey(loginParams: { privateKey: string; userInfo: Omit<UserInfo, \"isNewUser\"> }): Promise<void> {\n    const { privateKey, userInfo } = loginParams;\n    return new Promise((resolve, reject) => {\n      if (this.isInitialized) {\n        if (Buffer.from(privateKey, \"hex\").length !== 32) {\n          reject(new Error(\"Invalid private key, Please provide a 32 byte valid secp25k1 private key\"));\n          return;\n        }\n        const loginPrivKeyStream = this.communicationMux.getStream(\"login_with_private_key\") as Substream;\n        const loginHandler = (chunk) => {\n          if (chunk.name === \"login_with_private_key_response\") {\n            if (chunk.data.success) {\n              resolve(chunk.data.success);\n            } else {\n              reject(new Error(chunk.data.error));\n            }\n          }\n        };\n        handleStream(loginPrivKeyStream, \"data\", loginHandler);\n        loginPrivKeyStream.write({ name: \"login_with_private_key_request\", data: { privateKey, userInfo } });\n      } else reject(new Error(\"Torus is not initialized yet\"));\n    });\n  }\n\n  async showWalletConnectScanner(): Promise<void> {\n    if (!this.useWalletConnect) throw new Error(\"Set `useWalletConnect` as true in init function options to use wallet connect scanner\");\n    return new Promise((resolve, reject) => {\n      if (this.isLoggedIn) {\n        const walletConnectStream = this.communicationMux.getStream(\"wallet_connect_stream\") as Substream;\n        const walletConnectHandler = (chunk) => {\n          if (chunk.name === \"wallet_connect_stream_res\") {\n            if (chunk.data.success) {\n              resolve(chunk.data.success);\n            } else {\n              reject(new Error(chunk.data.error));\n            }\n            this._displayIframe();\n          }\n        };\n        handleStream(walletConnectStream, \"data\", walletConnectHandler);\n        walletConnectStream.write({ name: \"wallet_connect_stream_req\" });\n        this._displayIframe(true);\n      } else reject(new Error(\"User has not logged in yet\"));\n    });\n  }\n\n  protected _handleWindow(preopenInstanceId: string, { url, target, features }: { url?: string; target?: string; features?: string } = {}): void {\n    if (preopenInstanceId) {\n      const windowStream = this.communicationMux.getStream(\"window\") as Substream;\n      const finalUrl = new URL(url || `${this.torusUrl}/redirect?preopenInstanceId=${preopenInstanceId}`);\n      if (this.dappStorageKey) {\n        // If multiple instances, it returns the first one\n        if (finalUrl.hash) finalUrl.hash += `&dappStorageKey=${this.dappStorageKey}`;\n        else finalUrl.hash = `#dappStorageKey=${this.dappStorageKey}`;\n      }\n      const handledWindow = new PopupHandler({ url: finalUrl, target, features });\n      handledWindow.open();\n      if (!handledWindow.window) {\n        this._createPopupBlockAlert(preopenInstanceId, finalUrl.href);\n        return;\n      }\n      windowStream.write({\n        name: \"opened_window\",\n        data: {\n          preopenInstanceId,\n        },\n      });\n      const closeHandler = ({ preopenInstanceId: receivedId, close }) => {\n        if (receivedId === preopenInstanceId && close) {\n          handledWindow.close();\n          windowStream.removeListener(\"data\", closeHandler);\n        }\n      };\n      windowStream.on(\"data\", closeHandler);\n      handledWindow.once(\"close\", () => {\n        windowStream.write({\n          data: {\n            preopenInstanceId,\n            closed: true,\n          },\n        });\n        windowStream.removeListener(\"data\", closeHandler);\n      });\n    }\n  }\n\n  protected _setEmbedWhiteLabel(element: HTMLElement): void {\n    // Set whitelabel\n    const { theme } = this.whiteLabel || {};\n    if (theme) {\n      const { isDark = false, colors = {} } = theme;\n      if (isDark) element.classList.add(\"torus-dark\");\n\n      if (colors.torusBrand1) element.style.setProperty(\"--torus-brand-1\", colors.torusBrand1);\n      if (colors.torusGray2) element.style.setProperty(\"--torus-gray-2\", colors.torusGray2);\n    }\n  }\n\n  protected _getLogoUrl(): string {\n    let logoUrl = `${this.torusUrl}/images/torus_icon-blue.svg`;\n    if (this.whiteLabel?.theme?.isDark) {\n      logoUrl = this.whiteLabel?.logoLight || logoUrl;\n    } else {\n      logoUrl = this.whiteLabel?.logoDark || logoUrl;\n    }\n\n    return logoUrl;\n  }\n\n  protected _sendWidgetVisibilityStatus(status: boolean): void {\n    const torusWidgetVisibilityStream = this.communicationMux.getStream(\"torus-widget-visibility\") as Substream;\n    torusWidgetVisibilityStream.write({\n      data: status,\n    });\n  }\n\n  protected _displayIframe(isFull = false): void {\n    const style: Partial<CSSStyleDeclaration> = {};\n    // set phase\n    if (!isFull) {\n      style.display = this.torusWidgetVisibility ? \"block\" : \"none\";\n      style.height = \"70px\";\n      style.width = \"70px\";\n      switch (this.buttonPosition) {\n        case BUTTON_POSITION.TOP_LEFT:\n          style.top = \"0px\";\n          style.left = \"0px\";\n          style.right = \"auto\";\n          style.bottom = \"auto\";\n          break;\n        case BUTTON_POSITION.TOP_RIGHT:\n          style.top = \"0px\";\n          style.right = \"0px\";\n          style.left = \"auto\";\n          style.bottom = \"auto\";\n          break;\n        case BUTTON_POSITION.BOTTOM_RIGHT:\n          style.bottom = \"0px\";\n          style.right = \"0px\";\n          style.top = \"auto\";\n          style.left = \"auto\";\n          break;\n        case BUTTON_POSITION.BOTTOM_LEFT:\n        default:\n          style.bottom = \"0px\";\n          style.left = \"0px\";\n          style.top = \"auto\";\n          style.right = \"auto\";\n          break;\n      }\n    } else {\n      style.display = \"block\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      style.top = \"0px\";\n      style.right = \"0px\";\n      style.left = \"0px\";\n      style.bottom = \"0px\";\n    }\n    Object.assign(this.torusIframe.style, style);\n    this.isIframeFullScreen = isFull;\n  }\n\n  protected _setupWeb3(): void {\n    log.info(\"setupWeb3 running\");\n    // setup background connection\n    const metamaskStream = new BasePostMessageStream({\n      name: \"embed_metamask\",\n      target: \"iframe_metamask\",\n      targetWindow: this.torusIframe.contentWindow,\n      targetOrigin: new URL(this.torusUrl).origin,\n    });\n\n    // Due to compatibility reasons, we should not set up multiplexing on window.metamaskstream\n    // because the MetamaskInpageProvider also attempts to do so.\n    // We create another LocalMessageDuplexStream for communication between dapp <> iframe\n    const communicationStream = new BasePostMessageStream({\n      name: \"embed_comm\",\n      target: \"iframe_comm\",\n      targetWindow: this.torusIframe.contentWindow,\n      targetOrigin: new URL(this.torusUrl).origin,\n    });\n\n    // Backward compatibility with Gotchi :)\n    // window.metamaskStream = this.communicationStream\n\n    // compose the inpage provider\n    const inpageProvider = new TorusInpageProvider(metamaskStream);\n\n    // detect eth_requestAccounts and pipe to enable for now\n    const detectAccountRequestPrototypeModifier = (m) => {\n      const originalMethod = inpageProvider[m];\n      inpageProvider[m] = function providerFunc(method, ...args) {\n        if (method && method === \"eth_requestAccounts\") {\n          return inpageProvider.enable();\n        }\n        return originalMethod.apply(this, [method, ...args]);\n      };\n    };\n\n    detectAccountRequestPrototypeModifier(\"send\");\n    detectAccountRequestPrototypeModifier(\"sendAsync\");\n\n    inpageProvider.enable = () => {\n      return new Promise((resolve, reject) => {\n        // If user is already logged in, we assume they have given access to the website\n        inpageProvider.sendAsync({ jsonrpc: \"2.0\", id: getPreopenInstanceId(), method: \"eth_requestAccounts\", params: [] }, (err, response) => {\n          const { result: res } = (response as { result: unknown }) || {};\n          if (err) {\n            setTimeout(() => {\n              reject(err);\n            }, 50);\n          } else if (Array.isArray(res) && res.length > 0) {\n            // If user is already rehydrated, resolve this\n            // else wait for something to be written to status stream\n            const handleLoginCb = () => {\n              if (this.requestedVerifier !== \"\" && this.currentVerifier !== this.requestedVerifier) {\n                const { requestedVerifier } = this;\n                // eslint-disable-next-line promise/no-promise-in-callback\n                this.logout()\n                  // eslint-disable-next-line promise/always-return\n                  .then((_) => {\n                    this.requestedVerifier = requestedVerifier;\n                    this._showLoginPopup(true, resolve, reject);\n                  })\n                  .catch((error) => reject(error));\n              } else {\n                resolve(res);\n              }\n            };\n            if (this.isLoggedIn) {\n              handleLoginCb();\n            } else {\n              this.isLoginCallback = handleLoginCb;\n            }\n          } else {\n            // set up listener for login\n            this._showLoginPopup(true, resolve, reject);\n          }\n        });\n      });\n    };\n\n    inpageProvider.tryPreopenHandle = (payload: UnvalidatedJsonRpcRequest | UnvalidatedJsonRpcRequest[], cb: (...args: unknown[]) => void) => {\n      const _payload = payload;\n      if (!Array.isArray(_payload) && UNSAFE_METHODS.includes(_payload.method)) {\n        const preopenInstanceId = getPreopenInstanceId();\n        this._handleWindow(preopenInstanceId, {\n          target: \"_blank\",\n          features: FEATURES_CONFIRM_WINDOW,\n        });\n        _payload.preopenInstanceId = preopenInstanceId;\n      }\n      inpageProvider._rpcEngine.handle(_payload as JRPCRequest<unknown>[], cb);\n    };\n\n    // Work around for web3@1.0 deleting the bound `sendAsync` but not the unbound\n    // `sendAsync` method on the prototype, causing `this` reference issues with drizzle\n    const proxiedInpageProvider = new Proxy(inpageProvider, {\n      // straight up lie that we deleted the property so that it doesnt\n      // throw an error in strict mode\n      deleteProperty: () => true,\n    });\n\n    this.ethereum = proxiedInpageProvider;\n    const communicationMux = setupMultiplex(communicationStream);\n\n    this.communicationMux = communicationMux;\n\n    const windowStream = communicationMux.getStream(\"window\") as Substream;\n    windowStream.on(\"data\", (chunk) => {\n      if (chunk.name === \"create_window\") {\n        // url is the url we need to open\n        // we can pass the final url upfront so that it removes the step of redirecting to /redirect and waiting for finalUrl\n        this._createPopupBlockAlert(chunk.data.preopenInstanceId, chunk.data.url);\n      }\n    });\n\n    // show torus widget if button clicked\n    const widgetStream = communicationMux.getStream(\"widget\") as Substream;\n    widgetStream.on(\"data\", (chunk) => {\n      const { data } = chunk;\n      this._displayIframe(data);\n    });\n\n    // Show torus button if wallet has been hydrated/detected\n    const statusStream = communicationMux.getStream(\"status\") as Substream;\n    statusStream.on(\"data\", (status) => {\n      // login\n      if (status.loggedIn) {\n        this.isLoggedIn = status.loggedIn;\n        this.currentVerifier = status.verifier;\n      } // logout\n      else this._displayIframe();\n      if (this.isLoginCallback) {\n        this.isLoginCallback();\n        delete this.isLoginCallback;\n      }\n    });\n\n    this.provider = proxiedInpageProvider;\n\n    if (this.provider.shouldSendMetadata) sendSiteMetadata(this.provider._rpcEngine);\n    inpageProvider._initializeState();\n    log.debug(\"Torus - injected provider\");\n  }\n\n  protected _showLoginPopup(calledFromEmbed: boolean, resolve: (a: string[]) => void, reject: (err: Error) => void): void {\n    const loginHandler = (data) => {\n      const { err, selectedAddress } = data;\n      if (err) {\n        log.error(err);\n        if (reject) reject(err);\n      }\n      // returns an array (cause accounts expects it)\n      else if (resolve) resolve([selectedAddress]);\n      if (this.isIframeFullScreen) this._displayIframe();\n    };\n    const oauthStream = this.communicationMux.getStream(\"oauth\") as Substream;\n    if (!this.requestedVerifier) {\n      this._displayIframe(true);\n      handleStream(oauthStream, \"data\", loginHandler);\n      oauthStream.write({ name: \"oauth_modal\", data: { calledFromEmbed } });\n    } else {\n      handleStream(oauthStream, \"data\", loginHandler);\n      const preopenInstanceId = getPreopenInstanceId();\n      this._handleWindow(preopenInstanceId);\n      oauthStream.write({\n        name: \"oauth\",\n        data: { calledFromEmbed, verifier: this.requestedVerifier, preopenInstanceId, login_hint: this.loginHint },\n      });\n    }\n  }\n\n  protected _createPopupBlockAlert(preopenInstanceId: string, url: string): void {\n    const logoUrl = this._getLogoUrl();\n    const torusAlert = htmlToElement<HTMLDivElement>(\n      '<div id=\"torusAlert\" class=\"torus-alert--v2\">' +\n        `<div id=\"torusAlert__logo\"><img src=\"${logoUrl}\" /></div>` +\n        \"<div>\" +\n        `<h1 id=\"torusAlert__title\">${this.embedTranslations.actionRequired}</h1>` +\n        `<p id=\"torusAlert__desc\">${this.embedTranslations.pendingAction}</p>` +\n        \"</div>\" +\n        \"</div>\"\n    );\n\n    const successAlert = htmlToElement(`<div><a id=\"torusAlert__btn\">${this.embedTranslations.continue}</a></div>`);\n    const btnContainer = htmlToElement('<div id=\"torusAlert__btn-container\"></div>');\n    btnContainer.appendChild(successAlert);\n    torusAlert.appendChild(btnContainer);\n    const bindOnLoad = () => {\n      successAlert.addEventListener(\"click\", () => {\n        this._handleWindow(preopenInstanceId, {\n          url,\n          target: \"_blank\",\n          features: FEATURES_CONFIRM_WINDOW,\n        });\n        torusAlert.remove();\n\n        if (this.torusAlertContainer.children.length === 0) this.torusAlertContainer.style.display = \"none\";\n      });\n    };\n\n    this._setEmbedWhiteLabel(torusAlert);\n\n    const attachOnLoad = () => {\n      this.torusAlertContainer.style.display = \"block\";\n      this.torusAlertContainer.appendChild(torusAlert);\n    };\n\n    runOnLoad(attachOnLoad);\n    runOnLoad(bindOnLoad);\n  }\n}\n\nexport default Torus;\n","import Torus, { LoginParams, NetworkInterface, TorusCtorArgs, TorusParams } from \"@toruslabs/torus-embed\";\nimport {\n  ADAPTER_CATEGORY,\n  ADAPTER_CATEGORY_TYPE,\n  ADAPTER_EVENTS,\n  ADAPTER_NAMESPACES,\n  ADAPTER_STATUS,\n  ADAPTER_STATUS_TYPE,\n  AdapterInitOptions,\n  AdapterNamespaceType,\n  CHAIN_NAMESPACES,\n  ChainNamespaceType,\n  CONNECTED_EVENT_DATA,\n  CustomChainConfig,\n  getChainConfig,\n  log,\n  SafeEventEmitterProvider,\n  UserInfo,\n  WALLET_ADAPTERS,\n  WalletInitializationError,\n  WalletLoginError,\n  Web3AuthError,\n} from \"@web3auth/base\";\nimport { BaseEvmAdapter } from \"@web3auth/base-evm-adapter\";\n\nexport interface TorusWalletOptions {\n  adapterSettings?: TorusCtorArgs;\n  loginSettings?: LoginParams;\n  initParams?: Omit<TorusParams, \"network\">;\n  chainConfig?: CustomChainConfig;\n  sessionTime?: number;\n}\n\nexport class TorusWalletAdapter extends BaseEvmAdapter<never> {\n  readonly name: string = WALLET_ADAPTERS.TORUS_EVM;\n\n  readonly adapterNamespace: AdapterNamespaceType = ADAPTER_NAMESPACES.EIP155;\n\n  readonly currentChainNamespace: ChainNamespaceType = CHAIN_NAMESPACES.EIP155;\n\n  readonly type: ADAPTER_CATEGORY_TYPE = ADAPTER_CATEGORY.EXTERNAL;\n\n  public status: ADAPTER_STATUS_TYPE = ADAPTER_STATUS.NOT_READY;\n\n  public torusInstance: Torus | null = null;\n\n  private torusWalletOptions?: TorusCtorArgs;\n\n  private initParams?: TorusParams;\n\n  private loginSettings?: LoginParams = {};\n\n  private rehydrated = false;\n\n  constructor(params: TorusWalletOptions = {}) {\n    super();\n    this.torusWalletOptions = params.adapterSettings || {};\n    this.initParams = params.initParams || {};\n    this.loginSettings = params.loginSettings || {};\n    this.chainConfig = params.chainConfig || null;\n    this.sessionTime = params.sessionTime || 86400;\n  }\n\n  get provider(): SafeEventEmitterProvider | null {\n    if (this.status === ADAPTER_STATUS.CONNECTED && this.torusInstance) {\n      return this.torusInstance.provider as unknown as SafeEventEmitterProvider;\n    }\n    return null;\n  }\n\n  set provider(_: SafeEventEmitterProvider | null) {\n    throw new Error(\"Not implemented\");\n  }\n\n  async init(options: AdapterInitOptions): Promise<void> {\n    super.checkInitializationRequirements();\n    // set chainConfig for mainnet by default if not set\n    let network: NetworkInterface;\n    if (!this.chainConfig) {\n      this.chainConfig = getChainConfig(CHAIN_NAMESPACES.EIP155, 1);\n      const { blockExplorer, displayName } = this.chainConfig as CustomChainConfig;\n      network = { chainId: 1, host: \"mainnet\", blockExplorer, networkName: displayName };\n    } else {\n      const { chainId, blockExplorer, displayName, rpcTarget } = this.chainConfig as CustomChainConfig;\n      network = { chainId: parseInt(chainId as string, 16), host: rpcTarget, blockExplorer, networkName: displayName };\n    }\n    this.torusInstance = new Torus(this.torusWalletOptions);\n    log.debug(\"initializing torus evm adapter init\");\n    await this.torusInstance.init({\n      showTorusButton: false,\n      ...this.initParams,\n      network,\n    });\n    this.status = ADAPTER_STATUS.READY;\n    this.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.TORUS_EVM);\n\n    try {\n      log.debug(\"initializing torus evm adapter\");\n      if (options.autoConnect) {\n        this.rehydrated = true;\n        await this.connect();\n      }\n    } catch (error) {\n      log.error(\"Failed to connect with torus evm provider\", error);\n      this.emit(ADAPTER_EVENTS.ERRORED, error);\n    }\n  }\n\n  async connect(): Promise<SafeEventEmitterProvider | null> {\n    super.checkConnectionRequirements();\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    this.status = ADAPTER_STATUS.CONNECTING;\n    this.emit(ADAPTER_EVENTS.CONNECTING, { adapter: WALLET_ADAPTERS.TORUS_EVM });\n    try {\n      await this.torusInstance.login(this.loginSettings);\n      const { chainId } = this.torusInstance.provider;\n      if (chainId && parseInt(chainId) !== parseInt((this.chainConfig as CustomChainConfig).chainId, 16)) {\n        const { chainId: _chainId, blockExplorer, displayName, rpcTarget, ticker, tickerName } = this.chainConfig as CustomChainConfig;\n        const network = {\n          chainId: _chainId,\n          host: rpcTarget,\n          blockExplorerUrl: blockExplorer,\n          networkName: displayName,\n          tickerName,\n          ticker,\n          logo: \"\",\n        };\n        // in some cases when user manually switches chain and relogin then adapter will not connect to initially passed\n        // chainConfig but will connect to the one that user switched to.\n        // So here trying to switch network to the one that was initially passed in chainConfig.\n        await this.torusInstance.setProvider({\n          ...network,\n        });\n        const updatedChainID = await this.torusInstance.ethereum.request<string>({ method: \"eth_chainId\" });\n        if (updatedChainID && parseInt(updatedChainID) !== parseInt((this.chainConfig as CustomChainConfig).chainId, 16)) {\n          throw WalletInitializationError.fromCode(\n            5000,\n            `Not connected to correct chainId. Expected: ${(this.chainConfig as CustomChainConfig).chainId}, Current: ${updatedChainID}`\n          );\n        }\n      }\n      this.status = ADAPTER_STATUS.CONNECTED;\n      this.torusInstance.showTorusButton();\n      this.emit(ADAPTER_STATUS.CONNECTED, { adapter: WALLET_ADAPTERS.TORUS_EVM, reconnected: this.rehydrated } as CONNECTED_EVENT_DATA);\n      return this.provider;\n    } catch (error) {\n      // ready again to be connected\n      this.status = ADAPTER_STATUS.READY;\n      this.rehydrated = false;\n      this.emit(ADAPTER_STATUS.ERRORED, error);\n      throw error instanceof Web3AuthError ? error : WalletLoginError.connectionError(\"Failed to login with torus wallet\");\n    }\n  }\n\n  async disconnect(options: { cleanup: boolean } = { cleanup: false }): Promise<void> {\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    await super.disconnect();\n    await this.torusInstance.logout();\n    this.torusInstance.hideTorusButton();\n    if (options.cleanup) {\n      this.status = ADAPTER_STATUS.NOT_READY;\n      this.torusInstance = null;\n    } else {\n      // ready to be connected again\n      this.status = ADAPTER_STATUS.READY;\n    }\n\n    this.rehydrated = false;\n    this.emit(ADAPTER_EVENTS.DISCONNECTED);\n  }\n\n  async getUserInfo(): Promise<Partial<UserInfo>> {\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    const userInfo = await this.torusInstance.getUserInfo(\"\");\n    return userInfo;\n  }\n\n  setAdapterSettings(options: { sessionTime?: number }): void {\n    if (this.status === ADAPTER_STATUS.READY) return;\n    if (options?.sessionTime) {\n      this.sessionTime = options.sessionTime;\n    }\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('buffer').Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n","exports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n","var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n        '\"':  '\"',\n        '\\\\': '\\\\',\n        '/':  '/',\n        b:    '\\b',\n        f:    '\\f',\n        n:    '\\n',\n        r:    '\\r',\n        t:    '\\t'\n    },\n    text,\n\n    error = function (m) {\n        // Call error when something is wrong.\n        throw {\n            name:    'SyntaxError',\n            message: m,\n            at:      at,\n            text:    text\n        };\n    },\n    \n    next = function (c) {\n        // If a c parameter is provided, verify that it matches the current character.\n        if (c && c !== ch) {\n            error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n        }\n        \n        // Get the next character. When there are no more characters,\n        // return the empty string.\n        \n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n    },\n    \n    number = function () {\n        // Parse a number value.\n        var number,\n            string = '';\n        \n        if (ch === '-') {\n            string = '-';\n            next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n        }\n        if (ch === '.') {\n            string += '.';\n            while (next() && ch >= '0' && ch <= '9') {\n                string += ch;\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            string += ch;\n            next();\n            if (ch === '-' || ch === '+') {\n                string += ch;\n                next();\n            }\n            while (ch >= '0' && ch <= '9') {\n                string += ch;\n                next();\n            }\n        }\n        number = +string;\n        if (!isFinite(number)) {\n            error(\"Bad number\");\n        } else {\n            return number;\n        }\n    },\n    \n    string = function () {\n        // Parse a string value.\n        var hex,\n            i,\n            string = '',\n            uffff;\n        \n        // When parsing for string values, we must look for \" and \\ characters.\n        if (ch === '\"') {\n            while (next()) {\n                if (ch === '\"') {\n                    next();\n                    return string;\n                } else if (ch === '\\\\') {\n                    next();\n                    if (ch === 'u') {\n                        uffff = 0;\n                        for (i = 0; i < 4; i += 1) {\n                            hex = parseInt(next(), 16);\n                            if (!isFinite(hex)) {\n                                break;\n                            }\n                            uffff = uffff * 16 + hex;\n                        }\n                        string += String.fromCharCode(uffff);\n                    } else if (typeof escapee[ch] === 'string') {\n                        string += escapee[ch];\n                    } else {\n                        break;\n                    }\n                } else {\n                    string += ch;\n                }\n            }\n        }\n        error(\"Bad string\");\n    },\n\n    white = function () {\n\n// Skip whitespace.\n\n        while (ch && ch <= ' ') {\n            next();\n        }\n    },\n\n    word = function () {\n\n// true, false, or null.\n\n        switch (ch) {\n        case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n        case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n        case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error(\"Unexpected '\" + ch + \"'\");\n    },\n\n    value,  // Place holder for the value function.\n\n    array = function () {\n\n// Parse an array value.\n\n        var array = [];\n\n        if (ch === '[') {\n            next('[');\n            white();\n            if (ch === ']') {\n                next(']');\n                return array;   // empty array\n            }\n            while (ch) {\n                array.push(value());\n                white();\n                if (ch === ']') {\n                    next(']');\n                    return array;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad array\");\n    },\n\n    object = function () {\n\n// Parse an object value.\n\n        var key,\n            object = {};\n\n        if (ch === '{') {\n            next('{');\n            white();\n            if (ch === '}') {\n                next('}');\n                return object;   // empty object\n            }\n            while (ch) {\n                key = string();\n                white();\n                next(':');\n                if (Object.hasOwnProperty.call(object, key)) {\n                    error('Duplicate key \"' + key + '\"');\n                }\n                object[key] = value();\n                white();\n                if (ch === '}') {\n                    next('}');\n                    return object;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad object\");\n    };\n\nvalue = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n    white();\n    switch (ch) {\n    case '{':\n        return object();\n    case '[':\n        return array();\n    case '\"':\n        return string();\n    case '-':\n        return number();\n    default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n};\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\nmodule.exports = function (source, reviver) {\n    var result;\n    \n    text = source;\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n        error(\"Syntax error\");\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function' ? (function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && typeof value === 'object') {\n            for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(value, k)) {\n                    v = walk(value, k);\n                    if (v !== undefined) {\n                        value[k] = v;\n                    } else {\n                        delete value[k];\n                    }\n                }\n            }\n        }\n        return reviver.call(holder, key, value);\n    }({'': result}, '')) : result;\n};\n","var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    gap,\n    indent,\n    meta = {    // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    },\n    rep;\n\nfunction quote(string) {\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n    \n    escapable.lastIndex = 0;\n    return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n        var c = meta[a];\n        return typeof c === 'string' ? c :\n            '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    }) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n    // Produce a string from holder[key].\n    var i,          // The loop counter.\n        k,          // The member key.\n        v,          // The member value.\n        length,\n        mind = gap,\n        partial,\n        value = holder[key];\n    \n    // If the value has a toJSON method, call it to obtain a replacement value.\n    if (value && typeof value === 'object' &&\n            typeof value.toJSON === 'function') {\n        value = value.toJSON(key);\n    }\n    \n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n    if (typeof rep === 'function') {\n        value = rep.call(holder, key, value);\n    }\n    \n    // What happens next depends on the value's type.\n    switch (typeof value) {\n        case 'string':\n            return quote(value);\n        \n        case 'number':\n            // JSON numbers must be finite. Encode non-finite numbers as null.\n            return isFinite(value) ? String(value) : 'null';\n        \n        case 'boolean':\n        case 'null':\n            // If the value is a boolean or null, convert it to a string. Note:\n            // typeof null does not produce 'null'. The case is included here in\n            // the remote chance that this gets fixed someday.\n            return String(value);\n            \n        case 'object':\n            if (!value) return 'null';\n            gap += indent;\n            partial = [];\n            \n            // Array.isArray\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n                \n                // Join all of the elements together, separated with commas, and\n                // wrap them in brackets.\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            \n            // If the replacer is an array, use it to select the members to be\n            // stringified.\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            else {\n                // Otherwise, iterate through all of the keys in the object.\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            \n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0 ? '{}' : gap ?\n            '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n            '{' + partial.join(',') + '}';\n        gap = mind;\n        return v;\n    }\n}\n\nmodule.exports = function (value, replacer, space) {\n    var i;\n    gap = '';\n    indent = '';\n    \n    // If the space parameter is a number, make an indent string containing that\n    // many spaces.\n    if (typeof space === 'number') {\n        for (i = 0; i < space; i += 1) {\n            indent += ' ';\n        }\n    }\n    // If the space parameter is a string, it will be used as the indent string.\n    else if (typeof space === 'string') {\n        indent = space;\n    }\n\n    // If there is a replacer, it must be a function or an array.\n    // Otherwise, throw an error.\n    rep = replacer;\n    if (replacer && typeof replacer !== 'function'\n    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n        throw new Error('JSON.stringify');\n    }\n    \n    // Make a fake root object containing our value under the key of ''.\n    // Return the result of stringifying the value.\n    return str('', {'': value});\n};\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","var Transform = require('readable-stream').Transform\n  , inherits  = require('util').inherits\n  , xtend     = require('xtend')\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = xtend(options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(xtend({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["ComposedStore","children","_children","Object","keys","forEach","childKey","child","_addChild","updateFromChild","childValue","state","getState","putState","subscribe","ObservableStore_1","exports","MergedStore","_updateWholeState","childStates","this","map","assign","ObservableStore","initState","_state","_getState","newState","_putState","emit","partialState","handler","on","removeListener","safe_event_emitter_1","ObservableStoreStream","obsStore","objectMode","resume","push","dest","options","result","write","chunk","_encoding","callback","_size","err","unsubscribe","stream_1","__exportStar","syncTransformFn","through2_1","cb","safeApply","context","args","Reflect","apply","setTimeout","arrayClone","arr","n","length","copy","Array","i","SafeEventEmitter","type","doError","events","_events","undefined","error","er","Error","message","len","listeners","events_1","module","assert","val","msg","inherits","ctor","superCtor","super_","TempCtor","prototype","constructor","BN","number","base","endian","isBN","negative","words","red","_init","Buffer","wordSize","window","require","e","parseHex4Bits","string","index","c","charCodeAt","parseHexByte","lowerBound","r","parseBase","str","start","end","mul","b","Math","min","move","src","num","isArray","max","left","right","cmp","_initNumber","_initArray","toString","replace","_parseHex","_parseBase","toArray","ceil","j","w","off","_strip","limbLen","limbPow","total","mod","word","imuln","_iaddn","pow","_move","clone","_expand","size","_normSign","Symbol","for","inspect","zeros","groupSizes","groupBases","padding","out","carry","groupSize","groupBase","isZero","modrn","idivn","toNumber","ret","toJSON","toBuffer","toArrayLike","smallMulTo","self","a","lo","k","ncarry","rword","maxJ","ArrayType","byteLength","reqLength","res","allocUnsafe","allocate","_toArrayLikeLE","position","shift","_toArrayLikeBE","clz32","_countBits","t","_zeroBits","bitLength","hi","zeroBits","toTwos","width","abs","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","add","sub","comb10MulTo","mid","o","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","bigMulTo","hncarry","jumboMulTo","FFTM","x","y","mulTo","makeRBT","N","l","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","s","rtwdf","cos","PI","itwdf","sin","p","rtwdf_","itwdf_","re","ie","ro","io","rx","guessLen13b","m","odd","conjugate","normalize13b","ws","round","convert13b","stub","ph","mulp","_","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","isNegNum","muln","sqr","isqr","toBitArray","q","iushln","bits","carryMask","newCarry","ishln","iushrn","hint","extended","h","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","mode","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","andln","acc","modn","egcd","A","B","C","D","g","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","name","tmp","_tmp","K256","call","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","split","imulK","strip","input","output","outLen","prev","next","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","BaseEvmAdapter","provider","chainConfig","_this$chainConfig","chainId","WalletLoginError","chainNamespace","status","ADAPTER_STATUS","request","method","accounts","existingToken","getSavedToken","checkIfTokenIsExpired","idToken","payload","domain","location","origin","uri","href","address","parseInt","version","nonce","random","slice","issuedAt","Date","toISOString","signChallenge","challenge","params","signedMessage","verifySignedChallenge","sessionTime","saveToken","clearToken","BaseAdapter","ETHEREUM_NETWORK","abi","inputs","internalType","outputs","stateMutability","NodeDetailManager","url","network","proxyAddress","PROXY_ADDRESS_MAINNET","_defineProperty","localUrl","URL","projectId","Web3EthContract","nodeListContract","nodeListAddress","updated","currentEpoch","_currentEpoch","torusNodeEndpoints","_torusNodeEndpoints","torusNodePub","_torusNodePub","torusIndexes","_torusIndexes","_ref","verifier","verifierId","PROXY_ADDRESS_ROPSTEN","_nodeDetails","hashedVerifierId","keccak256","methods","getNodeSet","nodeDetails","torusNodePubX","torusNodePubY","Number","updatedEndpoints","updatedNodePub","endPointElement","pubKx","pubKy","endpoint","X","toHex","Y","NODE_DETAILS_MAINNET","log","loglevel","disableAll","SomeError","errors","responses","predicate","Some","promises","Promise","resolve","reject","predicateError","finishedCount","sharedState","resolved","errorArr","fill","resultArr","then","resp","catch","finally","data","values","reduce","id","startsWith","charAt","toUpperCase","it","join","GetOrSetNonceError","kCombinations","set","from","cur","combs","tailCombs","thresholdSame","hashMap","JsonStringify","keyLookup","endpoints","lookupPromises","post","generateJsonRPCObject","verifier_id","lookupResults","lookupShares","filter","errorResult","keyResult","x3","JSON","stringify","waitKeyLookup","timeout","keyAssign","torusNodePubs","lastPoint","firstPoint","signerHost","nodeNum","floor","initialPoint","headers","pubKeyX","pubKeyY","useAPIKey","signedData","includes","hash","createKeccakHash","update","digest","Torus","enableOneKey","metadataHost","allowHost","serverTimeOffset","ec","EC","doesKeyAssign","isNewKey","assignResult","finalKeyResult","pub_key_X","pub_key_Y","getOrSetNonce","nonceResult","typeOfUser","modifiedPubKey","keyFromPublic","getPublic","keyFromPrivate","pubNonce","finalX","getX","finalY","getY","generateAddressFromPubKey","upgraded","_ref2","privKeyHex","metadataNonce","torusKeyHex","customKeyHex","torusKey","privKey","curve","customKey","newMetadataNonce","generateMetadataParams","setMetadata","indexes","verifierParams","extraParams","promiseArr","get","tmpKey","generatePrivate","pubKey","tokenCommitment","messageprefix","tokencommitment","temppubx","temppuby","verifieridentifier","promiseArrRequest","nodeSigs","encrypted","item","idtoken","nodesignatures","shareResponses","completedRequests","thresholdPublicKey","PublicKey","sharePromises","nodeIndexes","currentShareResponse","sort","Index","firstKey","Metadata","metadata","ephemPublicKey","iv","mac","decrypt","ciphertext","Share","padStart","debug","all","sharesResolved","decryptedShares","curr","value","allCombis","privateKey","currentCombi","currentCombiShares","v","shares","indices","derivedPrivateKey","lagrangeInterpolation","decryptedPubKey","decryptedPubKeyX","decryptedPubKeyY","returnedKey","getNonce","getMetadata","ethAddress","generateAddressFromPrivKey","metadataResponse","key","setData","timestamp","now","sig","sign","set_data","signature","nodeIndex","secret","upper","lower","temp","publicKey","encode","info","ethAddressLower","toChecksumAddress","publicKeyX","publicKeyY","_ref3","isExtended","_nonce","getOnly","getPostboxKeyFrom1OutOf1","privKeyBN","nonceBN","enableAll","apiKey","setAPIKey","embedHost","setEmbedHost","LOGIN_PROVIDER","WALLET_VERIFIERS","GOOGLE","FACEBOOK","TWITCH","REDDIT","DISCORD","EMAIL_PASSWORDLESS","WALLET_OPENLOGIN_VERIFIER_MAP","PAYMENT_PROVIDER","SUPPORTED_PAYMENT_NETWORK","TORUS_BUILD_ENV","BUTTON_POSITION","PROVIDER_SUPPORTED_FIAT_CURRENCIES","cryptoCompareCurrenciesSet","Set","supportedFiatCurrencies","currency","has","paymentProviders","line1","line2","line3","supportPage","minOrderValue","maxOrderValue","validCurrencies","validCryptoCurrenciesByChain","display","includeFees","api","enforceMax","receiveHint","sell","supportedVerifierList","translations","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","prodTorusUrl","localStorageKeyPrefix","runOnLoad","fn","document","body","addEventListener","htmlToElement","html","template","createElement","trimmedHtml","trim","innerHTML","content","firstChild","handleEvent","handle","eventName","handlerArgs","arguments","handlerWrapper","removeEventListener","handleStream","documentReady","readyState","disconnected","permanentlyDisconnected","sendSiteMetadata","unsupportedSync","invalidDuplexStream","invalidOptions","maxEventListeners","shouldSendMetadata","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","connected","warnings","enableDeprecation","sendDeprecation","close","networkChanged","notification","publicConfigStore","config","createErrorMiddleware","req","ethErrors","done","logStreamDisconnectWarning","remoteLabel","emitter","warningMsg","stack","warn","listenerCount","getPreopenInstanceId","getTorusUrl","buildEnv","integrity","versionUsed","response","torusUrl","logLevel","getUserLanguage","userLanguage","navigator","language","userLanguages","hasOwnProperty","EMITTED_NOTIFICATIONS","NOOP","FEATURES_PROVIDER_CHANGE_WINDOW","FEATURES_DEFAULT_WALLET_WINDOW","FEATURES_CONFIRM_WINDOW","getRpcPromiseCallback","unwrapResult","TorusInpageProvider","connectionStream","jsonRpcStreamName","enable","experimentalMethods","send","isDuplexStream","messages","isTorus","setMaxListeners","_defaultState","selectedAddress","networkVersion","_handleAccountsChanged","bind","_handleChainChanged","_handleUnlockStateChanged","_handleConnect","_handleDisconnect","_handleStreamDisconnect","_sendSync","_rpcRequest","_warnOfDeprecation","_initializeState","sendAsync","mux","ObjectMultiplex","pump","_publicConfigStore","storageKey","createStream","storeAsStream","ignoreStream","isConnected","jsonRpcConnection","createStreamMiddleware","stream","rpcEngine","JRPCEngine","createIdRemapMiddleware","middleware","_rpcEngine","_sentWarnings","addListener","listener","once","prependListener","prependOnceListener","isUnlocked","initialized","isInternal","_payload","jsonrpc","tryPreopenHandle","methodOrPayload","callbackOrArgs","isRecoverable","errorMessage","isPermanentlyDisconnected","EthereumRpcError","streamName","isEthAccounts","finalAccounts","account","dequal","hasEmittedConnection","hashes","internalHashes","algorithms","algorithm","createHash","main","finalOptions","delimiter","full","defaults","sri","PopupHandler","target","features","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","top","getPopupFeatures","windowTimer","iClosedWindow","_setupTimer","setInterval","closed","clearInterval","open","focus","redirect","locationReplaceOnRedirect","EventEmitter","imgExists","img","onload","onerror","getSiteName","siteName","querySelector","metaTitle","title","hostname","getSiteIcon","icon","querySelectorAll","find","_icon","Boolean","getSiteMetadata","engine","domainMetadata","originalError","defaultVerifiers","iframeIntegrity","expectedCacheControlHeader","UNSAFE_METHODS","isLocalStorageAvailable","storage","setItem","removeItem","code","storageAvailable","torusIframeHtml","check","crossOrigin","rel","relList","supports","head","appendChild","buttonPosition","modalZIndex","configuration","isLoggedIn","isInitialized","torusWidgetVisibility","requestedVerifier","currentVerifier","nodeDetailManager","torusJs","TorusJs","alertZIndex","isIframeFullScreen","dappStorageKey","enableLogging","enabledVerifiers","host","networkName","blockExplorer","ticker","tickerName","loginConfig","showTorusButton","whiteLabel","skipTKey","useLocalStorage","useWalletConnect","setDefaultLevel","localStorageKey","storedKey","localStorage","getItem","generatedKey","torusIframeUrl","pathname","endsWith","torusIframe","concat","torusAlertContainer","style","setProperty","link","setAttribute","styleLink","defaultLanguage","customTranslations","mergedTranslations","deepmerge","languageTranslations","embedTranslations","handleSetup","_setupWeb3","initStream","communicationMux","getStream","success","_displayIframe","fetchUrl","fetch","cache","text","calculatedIntegrity","generateIntegrity","clearInit","login","login_hint","loginHint","ethereum","logout","statusStream","loggedIn","isElement","element","Element","HTMLDocument","contains","remove","torusAlert","hideTorusButton","_sendWidgetVisibilityStatus","setProvider","rest","providerChangeStream","preopenInstanceId","_handleWindow","override","showWallet","path","showWalletStream","finalPath","showWalletHandler","instanceId","finalUrl","searchParams","append","getNodeDetails","walletVerifier","openloginVerifier","getUserTypeAndAddress","existingV1User","v2User","newV2User","getUserInfo","userInfoAccessStream","approved","rejected","newRequest","userInfoStream","handlerChunk","initiateTopup","isValid","selectedProvider","selectedParams","fiatValue","requestedOrderAmount","parseFloat","selectedCurrency","selectedCryptoCurrency","flat","finalCryptoCurrency","toLowerCase","validatePaymentProvider","topupStream","loginParams","userInfo","loginPrivKeyStream","walletConnectStream","windowStream","handledWindow","_createPopupBlockAlert","closeHandler","receivedId","_setEmbedWhiteLabel","theme","isDark","colors","classList","torusBrand1","torusGray2","_getLogoUrl","logoUrl","logoLight","logoDark","isFull","bottom","metamaskStream","BasePostMessageStream","targetWindow","contentWindow","targetOrigin","communicationStream","inpageProvider","detectAccountRequestPrototypeModifier","originalMethod","handleLoginCb","_showLoginPopup","isLoginCallback","proxiedInpageProvider","Proxy","deleteProperty","setupMultiplex","calledFromEmbed","loginHandler","oauthStream","successAlert","btnContainer","TorusWalletAdapter","WALLET_ADAPTERS","ADAPTER_NAMESPACES","CHAIN_NAMESPACES","ADAPTER_CATEGORY","torusWalletOptions","adapterSettings","initParams","loginSettings","torusInstance","displayName","rpcTarget","getChainConfig","init","ADAPTER_EVENTS","autoConnect","rehydrated","connect","WalletInitializationError","adapter","_chainId","blockExplorerUrl","logo","updatedChainID","reconnected","Web3AuthError","cleanup","setAdapterSettings","objectToString","arg","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","isObject","isDate","d","isError","isFunction","isPrimitive","isBuffer","equal","RegExp","source","flags","valueOf","isStream","pipe","writable","_write","_writableState","readable","_read","_readableState","duplex","_transform","json","obj","opts","space","f","cycles","replacer","node","aobj","bobj","seen","parent","level","indent","colonSeparator","indexOf","TypeError","objectKeys","keyValue","splice","parse","at","ch","escapee","isFinite","hex","uffff","String","fromCharCode","white","array","object","reviver","walk","holder","gap","rep","escapable","meta","quote","lastIndex","test","partial","mind","process","nextTick","arg1","arg2","arg3","pna","Duplex","util","create","Readable","Writable","allowHalfOpen","onend","ended","onEndNT","defineProperty","enumerable","highWaterMark","destroyed","_destroy","PassThrough","Transform","encoding","ReadableState","EElistenerCount","Stream","OurUint8Array","global","Uint8Array","debugUtil","debuglog","StringDecoder","BufferList","destroyImpl","kProxyEvents","isDuplex","readableObjectMode","hwm","readableHwm","readableHighWaterMark","defaultHwm","buffer","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrain","readingMore","decoder","read","destroy","readableAddChunk","addToFront","skipChunkCheck","emitReadable","onEofChunk","chunkInvalid","getPrototypeOf","_uint8ArrayToBuffer","addChunk","maybeReadMore","needMoreData","unshift","_undestroy","undestroy","isPaused","setEncoding","enc","MAX_HWM","howMuchToRead","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","nReadingNextTick","resume_","fromList","clear","list","hasStrings","nb","tail","copyFromBufferString","buf","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","nOrig","doRead","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","ondata","cleanedUp","needDrain","pipeOnDrain","increasedAwaitDrain","pause","event","dests","ev","wrap","_this","paused","_fromList","afterTransform","ts","_transformState","transforming","writecb","writechunk","rs","needTransform","writeencoding","flush","_flush","prefinish","_this2","err2","CorkedRequest","entry","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","browser","setImmediate","WritableState","internalUtil","deprecate","realHasInstance","nop","writableObjectMode","writableHwm","writableHighWaterMark","finalCalled","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","count","allBuffers","isBuf","callFinal","need","getBuffer","hasInstance","Function","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","instance","Constructor","_classCallCheck","alloc","offset","custom","emitErrorNT","readableDestroyed","writableDestroyed","xtend","DestroyableTransform","_destroyed","noop","through2","construct","t2","Through2","superPropBase","_get","__esModule","property","receiver","desc","getOwnPropertyDescriptor","_objectWithoutProperties","excluded","sourceKeys","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable"],"sourceRoot":""}